<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudflare Workers vs Pages Functions æ·±åº¦è§£æ</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', system-ui, sans-serif; }

        .lesson-card {
            transition: all 0.3s ease;
        }
        .lesson-card:hover {
            transform: translateY(-2px);
        }

        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in {
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
        }

        .quiz-option {
            transition: all 0.2s ease;
        }
        .quiz-option:hover:not(.selected):not(.disabled) {
            background: #f0f9ff;
            border-color: #3b82f6;
        }
        .quiz-option.correct {
            background: #dcfce7 !important;
            border-color: #22c55e !important;
        }
        .quiz-option.incorrect {
            background: #fee2e2 !important;
            border-color: #ef4444 !important;
        }

        .code-block {
            background: #1e293b;
            border-radius: 8px;
            overflow-x: auto;
        }

        .timeline-dot {
            transition: all 0.3s ease;
        }
        .timeline-dot.active {
            transform: scale(1.3);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.3);
        }

        .comparison-card {
            transition: all 0.3s ease;
        }
        .comparison-card:hover {
            transform: scale(1.02);
        }

        .nav-dot {
            transition: all 0.2s ease;
        }
        .nav-dot.active {
            background: #6366f1;
            transform: scale(1.2);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .expandable-content.open {
            max-height: 1000px;
        }

        .hibernation-demo .worker {
            transition: all 0.5s ease;
        }
        .hibernation-demo .worker.sleeping {
            opacity: 0.4;
            filter: grayscale(1);
        }
        .hibernation-demo .worker.active {
            opacity: 1;
            filter: grayscale(0);
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation Progress -->
    <nav class="fixed top-0 left-0 right-0 bg-white/90 backdrop-blur-sm z-50 border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-gradient-to-br from-orange-500 to-amber-500 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-sm">CF</span>
                </div>
                <span class="font-semibold text-gray-800">Workers vs Pages Functions</span>
            </div>
            <div class="flex items-center gap-2">
                <span class="text-sm text-gray-500" id="progressText">1 / 7</span>
                <div class="w-32 h-2 bg-gray-200 rounded-full overflow-hidden">
                    <div id="progressBar" class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-300" style="width: 14%"></div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 pb-24 px-4">
        <div class="max-w-3xl mx-auto">

            <!-- Section 1: Introduction -->
            <section id="section-1" class="lesson-section fade-in">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ“š</span> ç¬¬ä¸€ç« 
                    </div>
                    <h1 class="text-3xl font-bold text-gray-900 mb-4">
                        Workers ä¸ Pages Functionsï¼š<br>
                        <span class="text-indigo-600">å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span>
                    </h1>
                    <p class="text-lg text-gray-600 mb-6">
                        è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„æ¯”å–»æ¥ç†è§£è¿™ä¸¤è€…çš„å…³ç³»ã€‚
                    </p>

                    <!-- Key Insight Box -->
                    <div class="bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-5 rounded-r-lg mb-8">
                        <div class="flex items-start gap-3">
                            <span class="text-2xl">ğŸ’¡</span>
                            <div>
                                <h3 class="font-semibold text-gray-900 mb-1">æ ¸å¿ƒæ´å¯Ÿ</h3>
                                <p class="text-gray-700">
                                    å®ƒä»¬çš„å¿ƒè„ï¼ˆè¿è¡Œå¼•æ“ï¼‰æ˜¯<strong>å®Œå…¨ä¸€æ ·çš„</strong>ï¼ŒåŒºåˆ«åªåœ¨äº"ç”Ÿæ´»æ–¹å¼"å’Œ"å·¥ä½œç¼–åˆ¶"ä¸åŒã€‚
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Comparison -->
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="comparison-card bg-blue-50 rounded-xl p-6 border-2 border-blue-200 cursor-pointer" onclick="showDetail('worker')">
                            <div class="text-4xl mb-3">ğŸš´</div>
                            <h3 class="text-xl font-bold text-blue-900 mb-2">Workers</h3>
                            <p class="text-blue-700 font-medium mb-2">ç‹¬ç«‹å¤–å–å‘˜</p>
                            <p class="text-sm text-blue-600">
                                ç‹¬ç«‹è‡ªä¸»ï¼Œæœ‰è‡ªå·±çš„ä¸“å±åŸŸåï¼Œå¯ä»¥æœåŠ¡ä»»ä½•äºº
                            </p>
                            <div class="mt-4 text-xs text-blue-500">ç‚¹å‡»äº†è§£æ›´å¤š â†’</div>
                        </div>

                        <div class="comparison-card bg-green-50 rounded-xl p-6 border-2 border-green-200 cursor-pointer" onclick="showDetail('pages')">
                            <div class="text-4xl mb-3">ğŸ </div>
                            <h3 class="text-xl font-bold text-green-900 mb-2">Pages Functions</h3>
                            <p class="text-green-700 font-medium mb-2">é¤å…é©»åº—é…é€å‘˜</p>
                            <p class="text-sm text-green-600">
                                ä¾é™„äºå‰ç«¯ï¼Œä¸ç½‘é¡µåŒåŸŸåï¼ŒåŒæºé›¶è·¨åŸŸ
                            </p>
                            <div class="mt-4 text-xs text-green-500">ç‚¹å‡»äº†è§£æ›´å¤š â†’</div>
                        </div>
                    </div>

                    <!-- Detail Modal -->
                    <div id="detailModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeDetail()">
                        <div class="bg-white rounded-2xl max-w-lg w-full p-6 slide-in" onclick="event.stopPropagation()">
                            <div id="detailContent"></div>
                            <button onclick="closeDetail()" class="mt-4 w-full py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 font-medium transition">
                                å…³é—­
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Interactive Quiz -->
                <div class="bg-white rounded-2xl shadow-lg p-8">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600">?</span>
                        å°æµ‹éªŒ
                    </h3>
                    <p class="text-gray-700 mb-4">Pages Functions æœ¬è´¨ä¸Šæ˜¯ä»€ä¹ˆï¼Ÿ</p>
                    <div class="space-y-3" id="quiz1">
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz1')">
                            <span class="font-medium">A.</span> ä¸€ç§å…¨æ–°çš„è¿è¡Œå¼•æ“
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, true, 'quiz1')">
                            <span class="font-medium">B.</span> æœ¬è´¨ä¸Šå°±æ˜¯ Workerï¼Œåªæ˜¯éƒ¨ç½²æ–¹å¼ä¸åŒ
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz1')">
                            <span class="font-medium">C.</span> ä¸“é—¨ç”¨äºæ•°æ®åº“æ“ä½œçš„æœåŠ¡
                        </div>
                    </div>
                    <div id="quiz1-feedback" class="mt-4 hidden"></div>
                </div>
            </section>

            <!-- Section 2: Detailed Comparison -->
            <section id="section-2" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>âš”ï¸</span> ç¬¬äºŒç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">å…¨æ–¹ä½å¯¹æ¯”åˆ†æ</h2>

                    <!-- Comparison Table -->
                    <div class="overflow-x-auto mb-8">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-3 text-left font-semibold text-gray-700 rounded-tl-lg">ç‰¹æ€§</th>
                                    <th class="px-4 py-3 text-left font-semibold text-blue-700">ğŸš´ Workers</th>
                                    <th class="px-4 py-3 text-left font-semibold text-green-700 rounded-tr-lg">ğŸ  Pages Functions</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-4 py-3 font-medium text-gray-700">ä¸»è¦ç”¨é€”</td>
                                    <td class="px-4 py-3 text-gray-600">ç‹¬ç«‹ APIã€ä»£ç†ã€å®šæ—¶ä»»åŠ¡</td>
                                    <td class="px-4 py-3 text-gray-600">ä¸ºç½‘ç«™æä¾›åç«¯æ”¯æŒ</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-4 py-3 font-medium text-gray-700">ä»£ç ä½ç½®</td>
                                    <td class="px-4 py-3 text-gray-600">ç‹¬ç«‹é¡¹ç›®æ–‡ä»¶å¤¹</td>
                                    <td class="px-4 py-3 text-gray-600">å‰ç«¯çš„ <code class="bg-gray-100 px-1 rounded">functions</code> æ–‡ä»¶å¤¹</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-4 py-3 font-medium text-gray-700">éƒ¨ç½²æ–¹å¼</td>
                                    <td class="px-4 py-3 text-gray-600"><code class="bg-gray-100 px-1 rounded">npx wrangler deploy</code></td>
                                    <td class="px-4 py-3 text-gray-600"><code class="bg-gray-100 px-1 rounded">git push</code> è‡ªåŠ¨å‘å¸ƒ</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-4 py-3 font-medium text-gray-700">è·¯ç”±æ–¹å¼</td>
                                    <td class="px-4 py-3 text-gray-600">æ‰‹åŠ¨ä»£ç åˆ¤æ–­</td>
                                    <td class="px-4 py-3 text-gray-600">æ–‡ä»¶å³è·¯ç”±ï¼ˆè‡ªåŠ¨ï¼‰</td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-4 py-3 font-medium text-gray-700">è·¨åŸŸ (CORS)</td>
                                    <td class="px-4 py-3"><span class="bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-medium">å¿…é¡»é…ç½®</span></td>
                                    <td class="px-4 py-3"><span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-medium">ä¸éœ€è¦</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- CORS Explanation -->
                    <div class="bg-gray-50 rounded-xl p-6">
                        <h4 class="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                            <span>ğŸ”</span> ä»€ä¹ˆæ˜¯è·¨åŸŸ (CORS)ï¼Ÿ
                        </h4>
                        <div class="space-y-4">
                            <p class="text-gray-600">
                                æƒ³è±¡ä½ åœ¨è‚¯å¾·åŸºï¼ˆç½‘é¡µï¼‰åƒé¥­ï¼Œå´æƒ³ç‚¹éº¦å½“åŠ³ï¼ˆWorkerï¼‰çš„å¤–å–ï¼š
                            </p>
                            <div class="flex items-center gap-4 justify-center py-4">
                                <div class="text-center">
                                    <div class="text-3xl mb-2">ğŸ”</div>
                                    <div class="text-xs text-gray-500">ä½ çš„ç½‘é¡µ<br><code class="bg-gray-200 px-1 rounded">pages.dev</code></div>
                                </div>
                                <div class="text-2xl text-red-500">ğŸš«</div>
                                <div class="text-center">
                                    <div class="text-3xl mb-2">ğŸŸ</div>
                                    <div class="text-xs text-gray-500">Worker<br><code class="bg-gray-200 px-1 rounded">workers.dev</code></div>
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm">
                                æµè§ˆå™¨ï¼ˆä¿å®‰ï¼‰ä¼šæ‹¦ä½è·¨åŸŸè¯·æ±‚ï¼Œè¦æ±‚æ£€æŸ¥"è¯ä»¶"ï¼ˆCORS å¤´ï¼‰ã€‚è€Œ Pages Functions ä¸ç½‘é¡µåŒæºï¼Œæ ¹æœ¬ä¸éœ€è¦è¿‡å®‰æ£€ï¼
                            </p>
                        </div>
                    </div>
                </div>

                <!-- File Routing Demo -->
                <div class="bg-white rounded-2xl shadow-lg p-8 fade-in">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">ğŸ“ æ–‡ä»¶å³è·¯ç”±æ¼”ç¤º</h3>
                    <p class="text-gray-600 mb-6">Pages Functions çš„è·¯ç”±å®Œå…¨ç”±æ–‡ä»¶ç»“æ„å†³å®šï¼š</p>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="code-block p-4">
                            <div class="text-gray-400 text-xs mb-2">ğŸ“‚ é¡¹ç›®ç»“æ„</div>
                            <pre class="text-green-400 text-sm"><code>functions/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ login.js
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â””â”€â”€ [id].js
â”‚   â””â”€â”€ posts.js
â””â”€â”€ hello.js</code></pre>
                        </div>
                        <div class="bg-gray-100 rounded-lg p-4">
                            <div class="text-gray-500 text-xs mb-2">ğŸ”— è‡ªåŠ¨ç”Ÿæˆçš„è·¯ç”±</div>
                            <div class="space-y-2 text-sm">
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400">â†’</span>
                                    <code class="text-indigo-600">/api/login</code>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400">â†’</span>
                                    <code class="text-indigo-600">/api/user/:id</code>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400">â†’</span>
                                    <code class="text-indigo-600">/api/posts</code>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400">â†’</span>
                                    <code class="text-indigo-600">/hello</code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: When to Use Which -->
            <section id="section-3" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ¤”</span> ç¬¬ä¸‰ç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">ä½ è¯¥é€‰å“ªä¸ªï¼Ÿ</h2>

                    <!-- Decision Tree -->
                    <div class="space-y-4">
                        <div class="border-2 border-green-200 bg-green-50 rounded-xl p-5">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xl">âœ“</span>
                                </div>
                                <div>
                                    <h4 class="font-bold text-green-900 mb-2">é€‰ Pages Functions çš„åœºæ™¯</h4>
                                    <ul class="space-y-2 text-green-800">
                                        <li class="flex items-center gap-2">
                                            <span>ğŸ“Š</span> ç»™ç½‘é¡µåŠ ä¸ªç®€å•åç«¯ï¼ˆå¦‚è®¿å®¢è®¡æ•°å™¨ï¼‰
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span>ğŸ›¡ï¸</span> éœ€è¦èº²é¿å¹¿å‘Šæ’ä»¶æ‹¦æˆªï¼ˆåŒæºè¯·æ±‚æ›´å®‰å…¨ï¼‰
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span>ğŸš€</span> æƒ³è¦æœ€ç®€å•çš„å¼€å‘ä½“éªŒï¼ˆgit push å³éƒ¨ç½²ï¼‰
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="border-2 border-blue-200 bg-blue-50 rounded-xl p-5">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <span class="text-white text-xl">âš¡</span>
                                </div>
                                <div>
                                    <h4 class="font-bold text-blue-900 mb-2">é€‰ Workers çš„åœºæ™¯</h4>
                                    <ul class="space-y-2 text-blue-800">
                                        <li class="flex items-center gap-2">
                                            <span>â°</span> éœ€è¦å®šæ—¶ä»»åŠ¡ï¼ˆCron Triggersï¼‰
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span>ğŸŒ</span> åç«¯è¦æœåŠ¡å¤šä¸ªå‰ç«¯/App
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span>ğŸ®</span> åšå¤šäººæ¸¸æˆæœåŠ¡å™¨
                                        </li>
                                        <li class="flex items-center gap-2">
                                            <span>ğŸ“§</span> å¤„ç†é‚®ä»¶/é˜Ÿåˆ—ç­‰ç‰¹æ®Šè§¦å‘å™¨
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive Scenario Quiz -->
                <div class="bg-white rounded-2xl shadow-lg p-8 fade-in">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600">ğŸ¯</span>
                        åœºæ™¯åˆ¤æ–­
                    </h3>
                    <p class="text-gray-700 mb-4">ä½ æƒ³åšä¸€ä¸ªæ¯å¤©å‡Œæ™¨è‡ªåŠ¨æ¸…ç†30å¤©å‰æ—§æ•°æ®çš„åŠŸèƒ½ï¼Œåº”è¯¥ç”¨ä»€ä¹ˆï¼Ÿ</p>
                    <div class="space-y-3" id="quiz2">
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz2')">
                            <span class="font-medium">A.</span> Pages Functions
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, true, 'quiz2')">
                            <span class="font-medium">B.</span> Workers (ä½¿ç”¨ Cron Triggers)
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz2')">
                            <span class="font-medium">C.</span> ä¸¤è€…éƒ½å¯ä»¥
                        </div>
                    </div>
                    <div id="quiz2-feedback" class="mt-4 hidden"></div>
                </div>
            </section>

            <!-- Section 4: Workers Unique Advantages -->
            <section id="section-4" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ’ª</span> ç¬¬å››ç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Workers çš„ç‹¬ç‰¹ä¼˜åŠ¿</h2>
                    <p class="text-gray-600 mb-8">é™¤äº†å®šæ—¶ä»»åŠ¡ï¼ŒWorkers è¿˜æœ‰å“ªäº› Pages Functions åšä¸åˆ°çš„äº‹æƒ…ï¼Ÿ</p>

                    <!-- Expandable Cards -->
                    <div class="space-y-4">
                        <!-- Trigger Types -->
                        <div class="border border-gray-200 rounded-xl overflow-hidden">
                            <div class="bg-gray-50 p-4 cursor-pointer flex items-center justify-between" onclick="toggleExpand('trigger')">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">ğŸ¯</span>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">å¤šæ ·çš„è§¦å‘æ–¹å¼</h4>
                                        <p class="text-sm text-gray-500">ä¸ä»…ä»…æ˜¯ HTTP è¯·æ±‚</p>
                                    </div>
                                </div>
                                <span id="trigger-arrow" class="text-gray-400 transition-transform">â–¼</span>
                            </div>
                            <div id="trigger-content" class="expandable-content">
                                <div class="p-5 border-t border-gray-200 space-y-4">
                                    <div class="flex items-start gap-3 bg-amber-50 p-4 rounded-lg">
                                        <span class="text-xl">ğŸ“§</span>
                                        <div>
                                            <h5 class="font-medium text-gray-900">Email Triggers</h5>
                                            <p class="text-sm text-gray-600">æ”¶åˆ°é‚®ä»¶æ—¶è‡ªåŠ¨è§¦å‘ï¼Œå¯åˆ†æé‚®ä»¶å†…å®¹ã€æå–é™„ä»¶</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-3 bg-blue-50 p-4 rounded-lg">
                                        <span class="text-xl">ğŸ“¬</span>
                                        <div>
                                            <h5 class="font-medium text-gray-900">Queue Triggers</h5>
                                            <p class="text-sm text-gray-600">ç›‘å¬æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¤„ç†é«˜å¹¶å‘ä»»åŠ¡ï¼ˆå¦‚æ‰¹é‡å›¾ç‰‡å‹ç¼©ï¼‰</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-3 bg-purple-50 p-4 rounded-lg">
                                        <span class="text-xl">â°</span>
                                        <div>
                                            <h5 class="font-medium text-gray-900">Cron Triggers</h5>
                                            <p class="text-sm text-gray-600">å®šæ—¶æ‰§è¡Œï¼Œå¦‚æ¯å¤©å‡Œæ™¨æ¸…ç†æ•°æ®</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Independence -->
                        <div class="border border-gray-200 rounded-xl overflow-hidden">
                            <div class="bg-gray-50 p-4 cursor-pointer flex items-center justify-between" onclick="toggleExpand('independence')">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">ğŸŒ</span>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">çº¯ç²¹çš„ç‹¬ç«‹æ€§</h4>
                                        <p class="text-sm text-gray-500">æœåŠ¡äºå…¨å¹³å°</p>
                                    </div>
                                </div>
                                <span id="independence-arrow" class="text-gray-400 transition-transform">â–¼</span>
                            </div>
                            <div id="independence-content" class="expandable-content">
                                <div class="p-5 border-t border-gray-200">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div class="bg-gray-100 p-4 rounded-lg">
                                            <div class="text-2xl mb-2">ğŸ“±</div>
                                            <h5 class="font-medium text-gray-900 mb-1">App åç«¯</h5>
                                            <p class="text-xs text-gray-600">iOS/Android App ä¸éœ€è¦ç½‘é¡µï¼Œç›´æ¥è°ƒç”¨ Worker API</p>
                                        </div>
                                        <div class="bg-gray-100 p-4 rounded-lg">
                                            <div class="text-2xl mb-2">ğŸ”—</div>
                                            <h5 class="font-medium text-gray-900 mb-1">ç¬¬ä¸‰æ–¹æ¥å£</h5>
                                            <p class="text-xs text-gray-600">Python è„šæœ¬ã€å…¶ä»–æœåŠ¡éƒ½å¯ä»¥è°ƒç”¨</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Traffic Control -->
                        <div class="border border-gray-200 rounded-xl overflow-hidden">
                            <div class="bg-gray-50 p-4 cursor-pointer flex items-center justify-between" onclick="toggleExpand('traffic')">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">ğŸš¦</span>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">é«˜çº§æµé‡æ§åˆ¶</h4>
                                        <p class="text-sm text-gray-500">ä½ æ˜¯äº¤é€šè­¦å¯Ÿ</p>
                                    </div>
                                </div>
                                <span id="traffic-arrow" class="text-gray-400 transition-transform">â–¼</span>
                            </div>
                            <div id="traffic-content" class="expandable-content">
                                <div class="p-5 border-t border-gray-200 space-y-3">
                                    <div class="flex items-center gap-3">
                                        <span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600">â†”ï¸</span>
                                        <div>
                                            <span class="font-medium">åå‘ä»£ç†</span>
                                            <span class="text-gray-500 text-sm">- è½¬å‘è¯·æ±‚åˆ°å…¶ä»–æœåŠ¡å™¨</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600">ğŸ”€</span>
                                        <div>
                                            <span class="font-medium">A/B æµ‹è¯•</span>
                                            <span class="text-gray-500 text-sm">- 50% ç”¨æˆ·çœ‹ v1ï¼Œ50% çœ‹ v2</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Service Bindings -->
                        <div class="border border-gray-200 rounded-xl overflow-hidden">
                            <div class="bg-gray-50 p-4 cursor-pointer flex items-center justify-between" onclick="toggleExpand('binding')">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">âš¡</span>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Service Bindings</h4>
                                        <p class="text-sm text-gray-500">æè‡´æ€§èƒ½çš„å†…ç½‘é€šè¯</p>
                                    </div>
                                </div>
                                <span id="binding-arrow" class="text-gray-400 transition-transform">â–¼</span>
                            </div>
                            <div id="binding-content" class="expandable-content">
                                <div class="p-5 border-t border-gray-200">
                                    <div class="bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg mb-4">
                                        <p class="text-sm text-gray-700">
                                            Worker A è°ƒç”¨ Worker Bï¼Œ<strong>ä¸èµ°å…¬ç½‘</strong>ï¼Œç›´æ¥åœ¨å†…å­˜é‡Œå®Œæˆæ•°æ®äº¤æ¢ã€‚
                                        </p>
                                    </div>
                                    <div class="flex items-center justify-around text-center">
                                        <div>
                                            <div class="text-2xl mb-1">ğŸš€</div>
                                            <div class="text-xs text-gray-500">é›¶å»¶è¿Ÿ</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl mb-1">ğŸ’°</div>
                                            <div class="text-xs text-gray-500">å®Œå…¨å…è´¹</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl mb-1">ğŸ”’</div>
                                            <div class="text-xs text-gray-500">æ›´å®‰å…¨</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 5: WebSocket & Hibernation -->
            <section id="section-5" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ®</span> ç¬¬äº”ç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">WebSocket ä¸æ¸¸æˆå¼€å‘</h2>
                    <p class="text-gray-600 mb-6">Worker ä¸æ˜¯æœ‰ 10ms çš„è¿ç®—æ—¶é—´é™åˆ¶å—ï¼Ÿå¦‚ä½•åšåˆ°"ä¸€ç›´åœ¨çº¿"ï¼Ÿ</p>

                    <!-- Key Concept -->
                    <div class="bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-6 mb-8">
                        <h3 class="font-bold text-red-900 mb-3 flex items-center gap-2">
                            <span>ğŸ¯</span> æ ¸å¿ƒæ¦‚å¿µ
                        </h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white/70 rounded-lg p-4">
                                <h4 class="font-medium text-gray-900 mb-2">âŒ å¢™ä¸Šæ—¶é—´ (Wall Clock)</h4>
                                <p class="text-sm text-gray-600">è¿æ¥ä¿æŒäº†å¤šä¹…ï¼Ÿï¼ˆå¦‚æ¸¸æˆç©äº†1å°æ—¶ï¼‰</p>
                                <p class="text-xs text-red-600 mt-2">ä¸è®¡å…¥é™åˆ¶</p>
                            </div>
                            <div class="bg-white/70 rounded-lg p-4">
                                <h4 class="font-medium text-gray-900 mb-2">âœ“ CPU æ—¶é—´</h4>
                                <p class="text-sm text-gray-600">CPU çœŸæ­£è®¡ç®—çš„æ—¶é—´</p>
                                <p class="text-xs text-green-600 mt-2">è¿™æ‰æ˜¯è¢«é™åˆ¶çš„</p>
                            </div>
                        </div>
                    </div>

                    <!-- Guard Analogy -->
                    <div class="bg-gray-50 rounded-xl p-6 mb-8">
                        <h4 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                            <span>ğŸ‘®â€â™‚ï¸</span> ä¿å®‰äº­çš„æ¯”å–»
                        </h4>
                        <div class="space-y-3 text-gray-700">
                            <p>ä½ é›‡äº†ä¸€ä¸ªä¿å®‰ï¼ˆWorkerï¼‰çœ‹é—¨ã€‚</p>
                            <p>ä¿å®‰ååœ¨äº­å­é‡Œåäº† <strong>8 å°æ—¶</strong>ï¼Œä½†å…¶ä¸­ 7 å°æ—¶ 59 åˆ†é’Ÿéƒ½åœ¨å‘å‘†å–èŒ¶ã€‚</p>
                            <p class="text-indigo-700 font-medium">Cloudflare çš„è®¡è´¹è§„åˆ™ï¼šåªç®—ä¿å®‰ã€Œç«™èµ·æ¥å¼€é—¨ã€ç™»è®°ã€çš„é‚£ä¸€ç¬é—´ï¼</p>
                        </div>
                    </div>

                    <!-- Hibernation Demo -->
                    <h4 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <span>â„ï¸</span> å†¬çœ æœºåˆ¶æ¼”ç¤º
                    </h4>
                    <div class="hibernation-demo bg-gray-900 rounded-xl p-6 mb-4">
                        <div class="flex items-center justify-around mb-6">
                            <div class="text-center">
                                <div class="text-3xl mb-2">ğŸ‘¤</div>
                                <div class="text-xs text-gray-400">ç©å®¶</div>
                            </div>
                            <div id="message-arrow" class="text-gray-600 transition-all">
                                <span class="text-2xl">â†’</span>
                            </div>
                            <div class="text-center">
                                <div id="worker-icon" class="worker sleeping text-4xl mb-2">âš™ï¸</div>
                                <div class="text-xs text-gray-400">Worker</div>
                                <div id="worker-status" class="text-xs text-gray-500 mt-1">ğŸ’¤ å†¬çœ ä¸­</div>
                            </div>
                        </div>
                        <button onclick="simulateHibernation()" class="w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition">
                            æ¨¡æ‹Ÿå‘é€æ¶ˆæ¯
                        </button>
                        <div id="hibernation-log" class="mt-4 text-xs text-gray-400 font-mono h-20 overflow-y-auto"></div>
                    </div>

                    <div class="text-sm text-gray-500 bg-gray-50 rounded-lg p-4">
                        <strong>å…³é”®ç‚¹ï¼š</strong>æ¯æ¬¡æ”¶åˆ°æ¶ˆæ¯ï¼ŒWorker ä¼šä»å†¬çœ ä¸­ã€Œè§£å†»ã€ï¼Œå¤„ç†å®Œç«‹å³å†æ¬¡å†¬çœ ã€‚CPU æ—¶é—´åªè®¡ç®—çœŸæ­£è¿è¡Œä»£ç çš„é‚£å‡ æ¯«ç§’ï¼
                    </div>
                </div>
            </section>

            <!-- Section 6: Durable Objects -->
            <section id="section-6" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ°</span> ç¬¬å…­ç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Durable Objectsï¼šå¤šäººæ¸¸æˆçš„ç§˜å¯†æ­¦å™¨</h2>

                    <!-- Problem -->
                    <div class="bg-red-50 border border-red-200 rounded-xl p-6 mb-6">
                        <h4 class="font-semibold text-red-900 mb-3 flex items-center gap-2">
                            <span>âŒ</span> æ™®é€š Worker çš„é—®é¢˜
                        </h4>
                        <div class="flex items-center justify-around py-4">
                            <div class="text-center">
                                <div class="text-2xl mb-1">ğŸ‘¤</div>
                                <div class="text-xs text-gray-600">ç©å®¶ A (åŒ—äº¬)</div>
                                <div class="text-xs text-gray-400">â†’ åŒ—äº¬èŠ‚ç‚¹</div>
                            </div>
                            <div class="text-3xl text-red-400">â‰ </div>
                            <div class="text-center">
                                <div class="text-2xl mb-1">ğŸ‘¤</div>
                                <div class="text-xs text-gray-600">ç©å®¶ B (ä¼¦æ•¦)</div>
                                <div class="text-xs text-gray-400">â†’ ä¼¦æ•¦èŠ‚ç‚¹</div>
                            </div>
                        </div>
                        <p class="text-sm text-red-700 text-center">ä»–ä»¬è¿åˆ°äº†ä¸åŒçš„ Worker å‰¯æœ¬ï¼Œå†…å­˜ä¸äº’é€šï¼</p>
                    </div>

                    <!-- Solution -->
                    <div class="bg-green-50 border border-green-200 rounded-xl p-6 mb-6">
                        <h4 class="font-semibold text-green-900 mb-3 flex items-center gap-2">
                            <span>âœ“</span> Durable Objects çš„è§£å†³æ–¹æ¡ˆ
                        </h4>
                        <div class="flex items-center justify-center gap-4 py-4">
                            <div class="text-center">
                                <div class="text-2xl mb-1">ğŸ‘¤</div>
                                <div class="text-xs">ç©å®¶ A</div>
                            </div>
                            <div class="text-xl text-green-500">â†’</div>
                            <div class="text-center bg-white rounded-xl p-4 shadow-sm border-2 border-green-300">
                                <div class="text-3xl mb-1">ğŸ </div>
                                <div class="text-sm font-medium text-green-800">Room_101</div>
                                <div class="text-xs text-gray-500">å•ä¾‹å®ä¾‹</div>
                            </div>
                            <div class="text-xl text-green-500">â†</div>
                            <div class="text-center">
                                <div class="text-2xl mb-1">ğŸ‘¤</div>
                                <div class="text-xs">ç©å®¶ B</div>
                            </div>
                        </div>
                        <p class="text-sm text-green-700 text-center">Cloudflare å¼ºåˆ¶å°†æ‰€æœ‰è¯·æ±‚è·¯ç”±åˆ°åŒä¸€ä¸ªç‰©ç†èŠ‚ç‚¹ï¼</p>
                    </div>

                    <!-- Key Points -->
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-gray-50 rounded-lg p-4 text-center">
                            <div class="text-2xl mb-2">ğŸŒ</div>
                            <div class="font-medium text-gray-900">å…¨çƒå•ä¾‹</div>
                            <div class="text-xs text-gray-500">åŒå DO åªæœ‰ä¸€ä¸ªå®ä¾‹</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4 text-center">
                            <div class="text-2xl mb-2">ğŸ’¾</div>
                            <div class="font-medium text-gray-900">çŠ¶æ€æŒä¹…åŒ–</div>
                            <div class="text-xs text-gray-500">å†…å­˜å˜é‡å¯ä»¥ä¿æŒ</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4 text-center">
                            <div class="text-2xl mb-2">ğŸ“¡</div>
                            <div class="font-medium text-gray-900">å¹¿æ’­èƒ½åŠ›</div>
                            <div class="text-xs text-gray-500">è½»æ¾åŒæ­¥æ‰€æœ‰ç©å®¶</div>
                        </div>
                    </div>
                </div>

                <!-- Quiz -->
                <div class="bg-white rounded-2xl shadow-lg p-8 fade-in">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600">?</span>
                        ç†è§£æ£€éªŒ
                    </h3>
                    <p class="text-gray-700 mb-4">ä¸ºä»€ä¹ˆåšå¤šäººè”æœºæ¸¸æˆå¿…é¡»ç”¨ Durable Objectsï¼Ÿ</p>
                    <div class="space-y-3" id="quiz3">
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz3')">
                            <span class="font-medium">A.</span> å› ä¸ºå®ƒé€Ÿåº¦æ›´å¿«
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, true, 'quiz3')">
                            <span class="font-medium">B.</span> å› ä¸ºéœ€è¦è®©æ‰€æœ‰ç©å®¶è¿æ¥åˆ°åŒä¸€ä¸ªå®ä¾‹ï¼Œå…±äº«å†…å­˜çŠ¶æ€
                        </div>
                        <div class="quiz-option border-2 border-gray-200 rounded-lg p-4 cursor-pointer" onclick="checkAnswer(this, false, 'quiz3')">
                            <span class="font-medium">C.</span> å› ä¸ºå®ƒå¯ä»¥å­˜å‚¨æ›´å¤šæ•°æ®
                        </div>
                    </div>
                    <div id="quiz3-feedback" class="mt-4 hidden"></div>
                </div>
            </section>

            <!-- Section 7: Pricing & Limits -->
            <section id="section-7" class="lesson-section hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6 fade-in">
                    <div class="inline-flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium mb-4">
                        <span>ğŸ’°</span> ç¬¬ä¸ƒç« 
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">å®šä»·ä¸é™åˆ¶</h2>

                    <!-- Pricing Cards -->
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="border-2 border-gray-200 rounded-xl p-6">
                            <div class="text-sm font-medium text-gray-500 mb-2">å…è´¹ç‰ˆ</div>
                            <div class="text-3xl font-bold text-gray-900 mb-4">$0<span class="text-lg text-gray-400">/æœˆ</span></div>
                            <ul class="space-y-3 text-sm">
                                <li class="flex items-center gap-2">
                                    <span class="text-green-500">âœ“</span>
                                    <span>CPU å•æ¬¡é™åˆ¶ï¼š<strong>10ms</strong></span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-green-500">âœ“</span>
                                    <span>è¯·æ±‚æ€»æ•°ï¼š<strong>100,000 æ¬¡/å¤©</strong></span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-red-500">âœ—</span>
                                    <span class="text-gray-500">Durable Objects</span>
                                </li>
                            </ul>
                            <div class="mt-4 text-xs text-gray-500">é€‚åˆå¼€å‘æµ‹è¯•</div>
                        </div>

                        <div class="border-2 border-indigo-500 rounded-xl p-6 bg-indigo-50 relative">
                            <div class="absolute -top-3 right-4 bg-indigo-500 text-white text-xs px-2 py-1 rounded-full">æ¨è</div>
                            <div class="text-sm font-medium text-indigo-600 mb-2">ä»˜è´¹ç‰ˆ</div>
                            <div class="text-3xl font-bold text-gray-900 mb-4">$5<span class="text-lg text-gray-400">/æœˆ</span></div>
                            <ul class="space-y-3 text-sm">
                                <li class="flex items-center gap-2">
                                    <span class="text-green-500">âœ“</span>
                                    <span>CPU å•æ¬¡é™åˆ¶ï¼š<strong>50ms+</strong></span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-green-500">âœ“</span>
                                    <span>è¯·æ±‚æ€»æ•°ï¼š<strong>æ— ä¸Šé™</strong></span>
                                </li>
                                <li class="flex items-center gap-2">
                                    <span class="text-green-500">âœ“</span>
                                    <span><strong>Durable Objects</strong></span>
                                </li>
                            </ul>
                            <div class="mt-4 text-xs text-gray-500">é€‚åˆæ­£å¼é¡¹ç›®</div>
                        </div>
                    </div>

                    <!-- Important Notes -->
                    <div class="bg-amber-50 border border-amber-200 rounded-xl p-6">
                        <h4 class="font-semibold text-amber-900 mb-3 flex items-center gap-2">
                            <span>âš ï¸</span> é‡è¦æé†’
                        </h4>
                        <ul class="space-y-2 text-sm text-amber-800">
                            <li class="flex items-start gap-2">
                                <span>â€¢</span>
                                <span>ç­‰å¾…æ•°æ®åº“/ç½‘ç»œçš„æ—¶é—´ <strong>ä¸ç®—å…¥</strong> CPU æ—¶é—´</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span>â€¢</span>
                                <span>WebSocket ä½¿ç”¨å†¬çœ æ¨¡å¼æ—¶ï¼Œæ¯æ¡æ¶ˆæ¯è®¡æ—¶å™¨éƒ½æ˜¯ <strong>é‡æ–°å½’é›¶</strong></span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span>â€¢</span>
                                <span>10ms å¯¹äºç®€å•çš„è½¬å‘é€»è¾‘ <strong>ç»°ç»°æœ‰ä½™</strong>ï¼ˆé€šå¸¸åªéœ€ 0.1~1msï¼‰</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Summary -->
                <div class="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl shadow-lg p-8 text-white fade-in">
                    <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span>ğŸ“</span> è¯¾ç¨‹æ€»ç»“
                    </h3>
                    <div class="space-y-4 mb-6">
                        <div class="bg-white/10 rounded-lg p-4">
                            <div class="font-medium mb-1">Pages Functions</div>
                            <div class="text-sm text-indigo-200">ç½‘é¡µåç«¯çš„æœ€ä½³é€‰æ‹©ï¼ŒåŒæºé˜²æ‹¦æˆªï¼Œå¼€å‘æœ€çœäº‹</div>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4">
                            <div class="font-medium mb-1">Workers</div>
                            <div class="text-sm text-indigo-200">ç‰¹ç§éƒ¨é˜Ÿï¼Œå¤„ç†å®šæ—¶ä»»åŠ¡ã€å¤æ‚è®¡ç®—ã€æ¸¸æˆè”æœº</div>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4">
                            <div class="font-medium mb-1">æœ€ä½³å®è·µ</div>
                            <div class="text-sm text-indigo-200">ä¸¤è€…æ··åˆä½¿ç”¨ï¼Œå…±äº«åŒä¸€ä¸ª D1 æ•°æ®åº“</div>
                        </div>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl mb-2">ğŸ‰</div>
                        <div class="text-lg font-medium">æ­å–œå®Œæˆå­¦ä¹ ï¼</div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50">
        <div class="max-w-3xl mx-auto px-4 py-3 flex items-center justify-between">
            <button id="prevBtn" onclick="navigate(-1)" class="px-5 py-2 rounded-lg font-medium text-gray-500 hover:bg-gray-100 transition disabled:opacity-50" disabled>
                â† ä¸Šä¸€èŠ‚
            </button>
            <div class="flex gap-2">
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer active" onclick="goToSection(1)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(2)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(3)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(4)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(5)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(6)"></div>
                <div class="nav-dot w-2 h-2 bg-gray-300 rounded-full cursor-pointer" onclick="goToSection(7)"></div>
            </div>
            <button id="nextBtn" onclick="navigate(1)" class="px-5 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition">
                ä¸‹ä¸€èŠ‚ â†’
            </button>
        </div>
    </nav>

    <script>
        let currentSection = 1;
        const totalSections = 7;

        function navigate(direction) {
            const newSection = currentSection + direction;
            if (newSection >= 1 && newSection <= totalSections) {
                goToSection(newSection);
            }
        }

        function goToSection(section) {
            // Hide current section
            document.getElementById(`section-${currentSection}`).classList.add('hidden');

            // Show new section
            currentSection = section;
            const newSectionEl = document.getElementById(`section-${currentSection}`);
            newSectionEl.classList.remove('hidden');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Update progress
            updateProgress();

            // Update buttons
            document.getElementById('prevBtn').disabled = currentSection === 1;
            document.getElementById('nextBtn').textContent = currentSection === totalSections ? 'å®Œæˆ âœ“' : 'ä¸‹ä¸€èŠ‚ â†’';

            // Update nav dots
            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index + 1 === currentSection);
            });
        }

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `${currentSection} / ${totalSections}`;
        }

        function showDetail(type) {
            const modal = document.getElementById('detailModal');
            const content = document.getElementById('detailContent');

            if (type === 'worker') {
                content.innerHTML = `
                    <div class="text-4xl mb-4">ğŸš´</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Workers è¯¦è§£</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500">â€¢</span>
                            <span><strong>ä½å€ï¼š</strong>æœ‰è‡ªå·±çš„ä¸“å±åŸŸå (xxx.workers.dev)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500">â€¢</span>
                            <span><strong>å·¥ä½œï¼š</strong>ä¸ä¾é™„ä»»ä½•ç½‘é¡µï¼Œå¯ä»¥æœåŠ¡ä»»ä½•å®¢æˆ·ç«¯</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-blue-500">â€¢</span>
                            <span><strong>è·¯ç”±ï¼š</strong>éœ€è¦æ‰‹åŠ¨åœ¨ä»£ç é‡Œå†™ if/switch åˆ¤æ–­</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-red-500">â€¢</span>
                            <span><strong>ç—›ç‚¹ï¼š</strong>è·¨åŸŸ (CORS) å¿…é¡»é…ç½®</span>
                        </li>
                    </ul>
                `;
            } else {
                content.innerHTML = `
                    <div class="text-4xl mb-4">ğŸ </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Pages Functions è¯¦è§£</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start gap-2">
                            <span class="text-green-500">â€¢</span>
                            <span><strong>ä½å€ï¼š</strong>ä½åœ¨ç½‘é¡µåŸŸåçš„"åœ°ä¸‹å®¤" (name.pages.dev/api/...)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500">â€¢</span>
                            <span><strong>å·¥ä½œï¼š</strong>ä¸å‰ç«¯ä»£ç ä½åœ¨åŒä¸€ä¸ª Git ä»“åº“ï¼Œä¸€æ¬¡æ¨é€å…¨éƒ¨éƒ¨ç½²</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500">â€¢</span>
                            <span><strong>è·¯ç”±ï¼š</strong>æ–‡ä»¶å³è·¯ç”±ï¼Œfunctions/api/login.js â†’ /api/login</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-500">â€¢</span>
                            <span><strong>ä¼˜åŠ¿ï¼š</strong>åŒæºè¯·æ±‚ï¼Œæ ¹æœ¬ä¸å­˜åœ¨ CORS é—®é¢˜ï¼</span>
                        </li>
                    </ul>
                `;
            }

            modal.classList.remove('hidden');
        }

        function closeDetail() {
            document.getElementById('detailModal').classList.add('hidden');
        }

        function checkAnswer(element, isCorrect, quizId) {
            const quiz = document.getElementById(quizId);
            const options = quiz.querySelectorAll('.quiz-option');
            const feedback = document.getElementById(`${quizId}-feedback`);

            // Disable all options
            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.style.cursor = 'default';
            });

            if (isCorrect) {
                element.classList.add('correct');
                feedback.innerHTML = `
                    <div class="bg-green-50 text-green-800 p-4 rounded-lg flex items-center gap-2">
                        <span class="text-xl">âœ“</span>
                        <span>æ­£ç¡®ï¼ä½ å·²ç»ç†è§£äº†è¿™ä¸ªæ¦‚å¿µã€‚</span>
                    </div>
                `;
            } else {
                element.classList.add('incorrect');
                // Find and highlight correct answer
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
                feedback.innerHTML = `
                    <div class="bg-red-50 text-red-800 p-4 rounded-lg flex items-center gap-2">
                        <span class="text-xl">âœ—</span>
                        <span>ä¸å¤ªå¯¹å“¦ï¼Œçœ‹çœ‹æ­£ç¡®ç­”æ¡ˆå§ã€‚</span>
                    </div>
                `;
            }

            feedback.classList.remove('hidden');
        }

        function toggleExpand(id) {
            const content = document.getElementById(`${id}-content`);
            const arrow = document.getElementById(`${id}-arrow`);

            content.classList.toggle('open');
            arrow.style.transform = content.classList.contains('open') ? 'rotate(180deg)' : 'rotate(0deg)';
        }

        let hibernationStep = 0;
        function simulateHibernation() {
            const workerIcon = document.getElementById('worker-icon');
            const workerStatus = document.getElementById('worker-status');
            const log = document.getElementById('hibernation-log');
            const arrow = document.getElementById('message-arrow');

            hibernationStep++;
            const time = new Date().toLocaleTimeString();

            // Show message being sent
            arrow.innerHTML = '<span class="text-2xl text-indigo-400">ğŸ“¦â†’</span>';
            log.innerHTML += `<div class="text-indigo-400">[${time}] ğŸ“¤ å‘é€æ¶ˆæ¯: ç©å®¶ç§»åŠ¨åˆ° (x:${Math.floor(Math.random()*100)}, y:${Math.floor(Math.random()*100)})</div>`;

            setTimeout(() => {
                // Worker wakes up
                workerIcon.classList.remove('sleeping');
                workerIcon.classList.add('active');
                workerStatus.innerHTML = 'âš¡ å¤„ç†ä¸­...';
                workerStatus.className = 'text-xs text-green-400 mt-1';
                log.innerHTML += `<div class="text-green-400">[${time}] âš¡ Worker è§£å†»ï¼Œå¼€å§‹å¤„ç† (CPU: 0.3ms)</div>`;
            }, 300);

            setTimeout(() => {
                // Worker processes
                arrow.innerHTML = '<span class="text-2xl text-green-400">âœ“</span>';
                log.innerHTML += `<div class="text-yellow-400">[${time}] ğŸ“Š è½¬å‘ä½ç½®ç»™å…¶ä»–ç©å®¶...</div>`;
            }, 600);

            setTimeout(() => {
                // Worker goes back to sleep
                workerIcon.classList.remove('active');
                workerIcon.classList.add('sleeping');
                workerStatus.innerHTML = 'ğŸ’¤ å†¬çœ ä¸­';
                workerStatus.className = 'text-xs text-gray-500 mt-1';
                arrow.innerHTML = '<span class="text-2xl text-gray-600">â†’</span>';
                log.innerHTML += `<div class="text-gray-500">[${time}] â„ï¸ å¤„ç†å®Œæˆï¼ŒWorker å†æ¬¡å†¬çœ </div>`;
                log.innerHTML += `<div class="text-gray-600">---</div>`;
                log.scrollTop = log.scrollHeight;
            }, 1200);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateProgress();
        });
    </script>
</body>
</html>
