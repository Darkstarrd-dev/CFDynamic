<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 850" font-family="'Microsoft YaHei', 'PingFang SC', sans-serif" width="100%">
  <defs>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.1"/>
    </filter>
  </defs>
  
  <rect width="1100" height="850" fill="#f8fafc"/>
  
  <rect x="0" y="0" width="1100" height="50" fill="#1e293b"/>
  <text x="550" y="32" text-anchor="middle" fill="white" font-size="22" font-weight="bold">ğŸ“‹ Image Viewer é¡¹ç›®æ€»è§ˆ
  </text>
  
  <g id="constants">
    <rect x="20" y="70" width="340" height="230" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <rect x="20" y="70" width="340" height="36" rx="12" fill="#f59e0b"/>
    <text x="40" y="95" fill="white" font-size="15" font-weight="bold">ğŸ“¦ å¸¸é‡é…ç½® (constants.js)</text>
    <text x="35" y="130" fill="#92400e" font-size="13" font-weight="bold">SUPPORTED_FORMATS</text>
    <text x="35" y="150" fill="#78350f" font-size="11">['jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp', 'svg']</text>
    <text x="35" y="175" fill="#92400e" font-size="13" font-weight="bold">VIEW_LIMITS</text>
    <text x="35" y="195" fill="#78350f" font-size="11">minScale: 0.1 | maxScale: 10</text>
    <text x="35" y="220" fill="#92400e" font-size="13" font-weight="bold">ZOOM_STEP</text>
    <text x="160" y="220" fill="#78350f" font-size="11">1.2 (æ¯æ¬¡ç¼©æ”¾å€ç‡)</text>
    <text x="35" y="245" fill="#92400e" font-size="13" font-weight="bold">ROTATION_STEP</text>
    <text x="175" y="245" fill="#78350f" font-size="11">90 (æ¯æ¬¡æ—‹è½¬è§’åº¦)</text>
    <text x="35" y="270" fill="#92400e" font-size="13" font-weight="bold">KEYS</text>
    <text x="35" y="290" fill="#78350f" font-size="11">â† â†’ A D + - = R 0 (å¿«æ·é”®æ˜ å°„)</text>
  </g>
  
  <g id="events">
    <rect x="380" y="70" width="340" height="230" rx="12" fill="#f3e8ff" stroke="#a855f7" stroke-width="2" filter="url(#shadow)"/>
    <rect x="380" y="70" width="340" height="36" rx="12" fill="#a855f7"/>
    <text x="400" y="95" fill="white" font-size="15" font-weight="bold">ğŸ“¡ äº‹ä»¶æ€»çº¿ (events.js)</text>
    <text x="395" y="130" fill="#6b21a8" font-size="12" font-weight="bold">çŠ¶æ€äº‹ä»¶</text>
    <text x="395" y="150" fill="#581c87" font-size="11">â€¢ state:changed â€” çŠ¶æ€å˜åŒ–æ—¶è§¦å‘</text>
    <text x="395" y="175" fill="#6b21a8" font-size="12" font-weight="bold">æ•°æ®äº‹ä»¶</text>
    <text x="395" y="195" fill="#581c87" font-size="11">â€¢ file:loaded â€” æ–‡ä»¶åŠ è½½å®Œæˆ</text>
    <text x="395" y="212" fill="#581c87" font-size="11">â€¢ image:loaded â€” å›¾ç‰‡åŠ è½½å®Œæˆ</text>
    <text x="395" y="237" fill="#6b21a8" font-size="12" font-weight="bold">åŠ¨ä½œäº‹ä»¶ (toolbar â†’ app)</text>
    <text x="395" y="257" fill="#581c87" font-size="11">â€¢ action:open-file â€” æ‰“å¼€æ–‡ä»¶</text>
    <text x="395" y="274" fill="#581c87" font-size="11">â€¢ action:open-folder â€” æ‰“å¼€æ–‡ä»¶å¤¹</text>
    <text x="395" y="291" fill="#581c87" font-size="11">â€¢ action:prev/next-image â€” ä¸Š/ä¸‹ä¸€å¼ </text>
  </g>
  
  <g id="state">
    <rect x="740" y="70" width="340" height="230" rx="12" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
    <rect x="740" y="70" width="340" height="36" rx="12" fill="#3b82f6"/>
    <text x="760" y="95" fill="white" font-size="15" font-weight="bold">ğŸ’¾ çŠ¶æ€ç®¡ç† (state.js)</text>
    <text x="755" y="125" fill="#1e40af" font-size="11" font-family="monospace">{</text>
    <text x="765" y="145" fill="#1e40af" font-size="11" font-family="monospace">files: [</text>
    <text x="780" y="162" fill="#1e3a8a" font-size="10" font-family="monospace">{ file, name, size, type }</text>
    <text x="765" y="179" fill="#1e40af" font-size="11" font-family="monospace">],</text>
    <text x="765" y="199" fill="#1e40af" font-size="11" font-family="monospace">currentIndex: -1,</text>
    <text x="765" y="219" fill="#1e40af" font-size="11" font-family="monospace">view: {</text>
    <text x="780" y="236" fill="#1e3a8a" font-size="10" font-family="monospace">scale, rotation, offsetX, offsetY</text>
    <text x="765" y="253" fill="#1e40af" font-size="11" font-family="monospace">},</text>
    <text x="765" y="273" fill="#1e40af" font-size="11" font-family="monospace">ui: { loading, error }</text>
    <text x="755" y="293" fill="#1e40af" font-size="11" font-family="monospace">}</text></g>
  
  <g id="services">
    <rect x="20" y="320" width="520" height="200" rx="12" fill="#d1fae5" stroke="#10b981" stroke-width="2" filter="url(#shadow)"/>
    <rect x="20" y="320" width="520" height="36" rx="12" fill="#10b981"/>
    <text x="40" y="345" fill="white" font-size="15" font-weight="bold">âš™ï¸ æœåŠ¡å±‚ (Services)</text>
    
    <rect x="35" y="370" width="235" height="135" rx="8" fill="#ecfdf5" stroke="#059669" stroke-width="1"/>
    <text x="50" y="392" fill="#065f46" font-size="13" font-weight="bold">fileService</text>
    <line x1="45" y1="400" x2="260" y2="400" stroke="#059669" stroke-width="0.5"/>
    <text x="50" y="420" fill="#064e3b" font-size="11">â€¢ openFiles() â€” é€‰æ‹©å›¾ç‰‡æ–‡ä»¶</text>
    <text x="50" y="440" fill="#064e3b" font-size="11">â€¢ openFolder() â€” é€‰æ‹©æ–‡ä»¶å¤¹</text>
    <text x="50" y="460" fill="#064e3b" font-size="11">â€¢ filterImages() â€” è¿‡æ»¤å›¾ç‰‡æ ¼å¼</text>
    <text x="50" y="480" fill="#064e3b" font-size="11">â€¢ getFileInfo() â€” è·å–æ–‡ä»¶ä¿¡æ¯</text>
    
    <rect x="290" y="370" width="235" height="135" rx="8" fill="#ecfdf5" stroke="#059669" stroke-width="1"/>
    <text x="305" y="392" fill="#065f46" font-size="13" font-weight="bold">imageService</text>
    <line x1="300" y1="400" x2="515" y2="400" stroke="#059669" stroke-width="0.5"/>
    <text x="305" y="420" fill="#064e3b" font-size="11">â€¢ loadImage(index) â€” åŠ è½½æŒ‡å®šå›¾ç‰‡</text>
    <text x="305" y="440" fill="#064e3b" font-size="11">â€¢ nextImage() â€” ä¸‹ä¸€å¼ </text>
    <text x="305" y="460" fill="#064e3b" font-size="11">â€¢ prevImage() â€” ä¸Šä¸€å¼ </text>
    <text x="305" y="480" fill="#064e3b" font-size="11">â€¢ getCurrentInfo() â€” å½“å‰å›¾ç‰‡ä¿¡æ¯</text></g>
  
  <g id="components">
    <rect x="560" y="320" width="520" height="200" rx="12" fill="#fce7f3" stroke="#ec4899" stroke-width="2" filter="url(#shadow)"/>
    <rect x="560" y="320" width="520" height="36" rx="12" fill="#ec4899"/>
    <text x="580" y="345" fill="white" font-size="15" font-weight="bold">ğŸ¨ ç»„ä»¶å±‚ (Components)</text>
    
    <rect x="575" y="370" width="155" height="135" rx="8" fill="#fdf2f8" stroke="#db2777" stroke-width="1"/>
    <text x="590" y="392" fill="#9d174d" font-size="12" font-weight="bold">toolbar.js</text>
    <line x1="585" y1="400" x2="720" y2="400" stroke="#db2777" stroke-width="0.5"/>
    <text x="590" y="418" fill="#831843" font-size="10">ğŸ“‚ æ‰“å¼€æ–‡ä»¶æŒ‰é’®</text>
    <text x="590" y="435" fill="#831843" font-size="10">ğŸ“ æ‰“å¼€æ–‡ä»¶å¤¹æŒ‰é’®</text>
    <text x="590" y="452" fill="#831843" font-size="10">â¬…ï¸ â¡ï¸ ä¸Š/ä¸‹ä¸€å¼ æŒ‰é’®</text>
    <text x="590" y="469" fill="#831843" font-size="10">ğŸ”„ æ—‹è½¬æŒ‰é’®</text>
    <text x="590" y="486" fill="#831843" font-size="10">ğŸ” ç¼©æ”¾æŒ‰é’®</text>
    
    <rect x="745" y="370" width="155" height="135" rx="8" fill="#fdf2f8" stroke="#db2777" stroke-width="1"/>
    <text x="760" y="392" fill="#9d174d" font-size="12" font-weight="bold">viewer.js</text>
    <line x1="755" y1="400" x2="890" y2="400" stroke="#db2777" stroke-width="0.5"/>
    <text x="760" y="418" fill="#831843" font-size="10">ğŸ–¼ï¸ Canvas ç»˜åˆ¶å›¾ç‰‡</text>
    <text x="760" y="435" fill="#831843" font-size="10">ğŸ–±ï¸ é¼ æ ‡æ‹–æ‹½ç§»åŠ¨</text>
    <text x="760" y="452" fill="#831843" font-size="10">ğŸ”„ æ»šè½®ç¼©æ”¾</text>
    <text x="760" y="469" fill="#831843" font-size="10">ğŸ“ æ—‹è½¬å˜æ¢</text>
    <text x="760" y="486" fill="#831843" font-size="10">â†©ï¸ é‡ç½®è§†å›¾</text>
    
    <rect x="915" y="370" width="150" height="135" rx="8" fill="#fdf2f8" stroke="#db2777" stroke-width="1"/>
    <text x="930" y="392" fill="#9d174d" font-size="12" font-weight="bold">statusbar.js</text>
    <line x1="925" y1="400" x2="1055" y2="400" stroke="#db2777" stroke-width="0.5"/>
    <text x="930" y="418" fill="#831843" font-size="10">ğŸ“„ æ–‡ä»¶åæ˜¾ç¤º</text>
    <text x="930" y="435" fill="#831843" font-size="10">ğŸ”¢ ç´¢å¼• (1/10)</text>
    <text x="930" y="452" fill="#831843" font-size="10">ğŸ“ å°ºå¯¸ä¿¡æ¯</text>
    <line x1="925" y1="462" x2="1055" y2="462" stroke="#db2777" stroke-width="0.5"/>
    <text x="930" y="480" fill="#9d174d" font-size="12" font-weight="bold">keyboard.js</text>
    <text x="930" y="498" fill="#831843" font-size="10">âŒ¨ï¸ å¿«æ·é”®ç›‘å¬</text>
  </g>
  
  <g id="app-entry">
    <rect x="20" y="540" width="1060" height="130" rx="12" fill="#fef2f2" stroke="#ef4444" stroke-width="2" filter="url(#shadow)"/>
    <rect x="20" y="540" width="1060" height="36" rx="12" fill="#ef4444"/>
    <text x="40" y="565" fill="white" font-size="15" font-weight="bold">ğŸš€ å…¥å£æ–‡ä»¶ (app.js) â€” åˆå§‹åŒ–ä¸äº‹ä»¶ç¼–æ’ä¸­å¿ƒ</text>
    <text x="40" y="600" fill="#991b1b" font-size="12" font-weight="bold">åˆå§‹åŒ–é¡ºåº</text>
    <text x="40" y="620" fill="#7f1d1d" font-size="11">1. toolbar.init() â†’ 2. statusbar.init() â†’ 3. viewer.init() â†’ 4. keyboard.init() â†’ 5. æ³¨å†Œäº‹ä»¶ç›‘å¬</text>
    <text x="40" y="650" fill="#991b1b" font-size="12" font-weight="bold">äº‹ä»¶ç¼–æ’ (è¿æ¥ toolbar åŠ¨ä½œ â†’ æœåŠ¡è°ƒç”¨)</text>
    <text x="40" y="668" fill="#7f1d1d" font-size="10">action:open-file â†’ fileService.openFiles() | action:open-folder â†’ fileService.openFolder() | action:prev/next â†’ imageService.prev/nextImage()</text>
  </g>
  
  <g id="keyboard-map">
    <rect x="20" y="690" width="1060" height="140" rx="12" fill="#f0fdf4" stroke="#22c55e" stroke-width="2" filter="url(#shadow)"/>
    <rect x="20" y="690" width="1060" height="36" rx="12" fill="#22c55e"/>
    <text x="40" y="715" fill="white" font-size="15" font-weight="bold">âŒ¨ï¸ å¿«æ·é”®æ˜ å°„è¡¨</text>
    
    <text x="60" y="750" fill="#166534" font-size="12" font-weight="bold">æŒ‰é”®</text>
    <text x="180" y="750" fill="#166534" font-size="12" font-weight="bold">åŠŸèƒ½</text>
    <text x="380" y="750" fill="#166534" font-size="12" font-weight="bold">æŒ‰é”®</text>
    <text x="500" y="750" fill="#166534" font-size="12" font-weight="bold">åŠŸèƒ½</text>
    <text x="700" y="750" fill="#166534" font-size="12" font-weight="bold">æŒ‰é”®</text>
    <text x="820" y="750" fill="#166534" font-size="12" font-weight="bold">åŠŸèƒ½</text>
    <line x1="40" y1="760" x2="1060" y2="760" stroke="#86efac" stroke-width="1"/>
    
    <text x="60" y="785" fill="#15803d" font-size="12">â† æˆ– A</text>
    <text x="180" y="785" fill="#14532d" font-size="12">ä¸Šä¸€å¼ å›¾ç‰‡</text>
    <text x="60" y="810" fill="#15803d" font-size="12">â†’ æˆ– D</text>
    <text x="180" y="810" fill="#14532d" font-size="12">ä¸‹ä¸€å¼ å›¾ç‰‡</text>
    
    <text x="380" y="785" fill="#15803d" font-size="12">+ æˆ– =</text>
    <text x="500" y="785" fill="#14532d" font-size="12">æ”¾å¤§å›¾ç‰‡</text>
    <text x="380" y="810" fill="#15803d" font-size="12">-</text>
    <text x="500" y="810" fill="#14532d" font-size="12">ç¼©å°å›¾ç‰‡</text>
    
    <text x="700" y="785" fill="#15803d" font-size="12">R</text>
    <text x="820" y="785" fill="#14532d" font-size="12">é¡ºæ—¶é’ˆæ—‹è½¬90Â°</text>
    <text x="700" y="810" fill="#15803d" font-size="12">0</text>
    <text x="820" y="810" fill="#14532d" font-size="12">é‡ç½®è§†å›¾</text>
  </g>
</svg>