<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D1 æ•°æ®åº“ï¼šæœ¬åœ° vs äº‘ç«¯</title>
    <style>
        :root {
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --local-color: #3b82f6;  /* Blue for Local */
            --remote-color: #f97316; /* Orange for Remote */
            --text-main: #334155;
            --code-bg: #1e293b;
            --code-text: #e2e8f0;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; line-height: 1.6; background: var(--bg-color); color: var(--text-main); margin: 0; padding: 20px; }
        .container { max-width: 950px; margin: 0 auto; }

        h1 { text-align: center; color: #0f172a; margin-bottom: 10px; }
        h2 { border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; margin-top: 40px; color: #1e293b; }

        /* å¯¹æ¯”å¸ƒå±€ */
        .comparison-box {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .universe-card {
            flex: 1;
            min-width: 300px;
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            border-top: 6px solid #ccc;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .universe-card.local { border-top-color: var(--local-color); }
        .universe-card.remote { border-top-color: var(--remote-color); }

        .u-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .tag { font-size: 0.75rem; padding: 2px 8px; border-radius: 10px; color: white; text-transform: uppercase; }

        /* ç»ˆç«¯æ¨¡æ‹Ÿ */
        .cmd-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 10px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.85rem;
            margin: 10px 0;
        }
        .flag { color: #facc15; font-weight: bold; }

        /* æ–‡ä»¶ç»“æ„æ¨¡æ‹Ÿ */
        .file-tree {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin-top: 10px;
        }
        .folder { color: #60a5fa; font-weight: bold; }
        .file { color: #e2e8f0; }
        .hidden-file { color: #94a3b8; font-style: italic; }

        .note { background: #eff6ff; border-left: 4px solid var(--local-color); padding: 15px; margin-top: 20px; border-radius: 4px; }
    </style>
</head>
<body>

<div class="container">
    <h1>D1 çš„å¹³è¡Œå®‡å®™ï¼šæœ¬åœ° vs äº‘ç«¯</h1>
    <p style="text-align: center; color: #64748b;">æ— éœ€æ‰‹åŠ¨å»ºç«‹æœ¬åœ°åº“ï¼ŒWrangler å¸®ä½ æå®šä¸€åˆ‡</p>

    <!-- 1. æ ¸å¿ƒæ¦‚å¿µ -->
    <div class="comparison-box">
        <!-- æœ¬åœ°å®‡å®™ -->
        <div class="universe-card local">
            <div class="u-title">
                <span style="color:var(--local-color);">ğŸ’» æœ¬åœ°å®‡å®™ (Local)</span>
                <span class="tag" style="background:var(--local-color);">æµ‹è¯•ç¯å¢ƒ</span>
            </div>
            <p><strong>å®ƒæ˜¯è°ï¼š</strong> ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ã€‚å®ƒè¿è¡Œåœ¨ä½ è‡ªå·±çš„ç”µè„‘ç¡¬ç›˜ä¸Šã€‚</p>
            <p><strong>æ€ä¹ˆæ¥çš„ï¼š</strong> <span style="background:#dbeafe; padding:0 4px; border-radius:4px;">å®Œå…¨è‡ªåŠ¨ç”Ÿæˆ</span>ã€‚å½“ä½ ç¬¬ä¸€æ¬¡ä¸å¸¦ <code>--remote</code> è¿è¡Œå‘½ä»¤æ—¶ï¼ŒWrangler å‘ç°æ²¡æœ‰æœ¬åœ°åº“ï¼Œå°±ä¼šé»˜é»˜åœ°åˆ›å»ºä¸€ä¸ª SQLite æ–‡ä»¶ã€‚</p>
            <p><strong>æ•°æ®äº’é€šå—ï¼š</strong> <strong>ä¸äº’é€šï¼</strong> è¿™é‡Œçš„æ•°æ®ï¼ˆæ¯”å¦‚æµ‹è¯•ç”¨çš„ 'test-user'ï¼‰æ°¸è¿œä¸ä¼šä¸Šä¼ åˆ°äº‘ç«¯ã€‚</p>
        </div>

        <!-- äº‘ç«¯å®‡å®™ -->
        <div class="universe-card remote">
            <div class="u-title">
                <span style="color:var(--remote-color);">â˜ï¸ äº‘ç«¯å®‡å®™ (Remote)</span>
                <span class="tag" style="background:var(--remote-color);">ç”Ÿäº§ç¯å¢ƒ</span>
            </div>
            <p><strong>å®ƒæ˜¯è°ï¼š</strong> çœŸå®çš„ D1 æ•°æ®åº“ã€‚è¿è¡Œåœ¨ Cloudflare çš„å…¨çƒæœåŠ¡å™¨ä¸Šã€‚</p>
            <p><strong>æ€ä¹ˆæ¥çš„ï¼š</strong> ä½ é€šè¿‡ <code>d1 create</code> å‘½ä»¤æ˜¾å¼åˆ›å»ºçš„ï¼Œå¹¶æœ‰äº†é‚£ä¸ªé•¿é•¿çš„ IDã€‚</p>
            <p><strong>æ•°æ®äº’é€šå—ï¼š</strong> <strong>ä¸äº’é€šï¼</strong> çœŸå®ç”¨æˆ·çš„è®¿é—®æ•°æ®ï¼ˆæ¯”å¦‚ 1000 æ¬¡ç‚¹å‡»ï¼‰åªä¼šå­˜åœ¨è¿™é‡Œï¼Œä¸ä¼šè‡ªåŠ¨è·‘åˆ°ä½ ç”µè„‘ä¸Šã€‚</p>
        </div>
    </div>

    <!-- 2. å®é™…æ“ä½œå¯¹æ¯” -->
    <h2>2. æ€ä¹ˆæ§åˆ¶æ“ä½œå“ªä¸€ä¸ªï¼Ÿ</h2>
    <p>å®Œå…¨å–å†³äºä½ åœ¨å‘½ä»¤è¡Œé‡Œæ˜¯å¦åŠ äº† <code>--remote</code> è¿™ä¸ªå‚æ•°ã€‚</p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div>
            <h3>ğŸ‘‰ æ“ä½œæœ¬åœ° (é»˜è®¤)</h3>
            <p style="font-size:0.9rem; color:#64748b;">æ¯”å¦‚ï¼šæˆ‘æƒ³åœ¨æœ¬åœ°å¼€å‘ï¼Œçœ‹çœ‹è¡¨å»ºå¯¹äº†æ²¡ã€‚</p>
            <div class="cmd-block">
                npx wrangler d1 execute winweb-db --file=./schema.sql
            </div>
            <p style="font-size:0.85rem;">(æ²¡æœ‰åŠ  flagï¼ŒWrangler é»˜è®¤å¯¹æœ¬åœ°æ–‡ä»¶ä¸‹æ‰‹)</p>
        </div>
        <div>
            <h3>ğŸ‘‰ æ“ä½œäº‘ç«¯ (åŠ¨çœŸæ ¼)</h3>
            <p style="font-size:0.9rem; color:#64748b;">æ¯”å¦‚ï¼šä»£ç å†™å¥½äº†ï¼Œæˆ‘è¦è®©çœŸå®æ•°æ®åº“ç”Ÿæ•ˆã€‚</p>
            <div class="cmd-block">
                npx wrangler d1 execute winweb-db <span class="flag">--remote</span> --file=./schema.sql
            </div>
            <p style="font-size:0.85rem;">(åŠ äº† flagï¼ŒæŒ‡ä»¤ç›´è¾¾ Cloudflare æœåŠ¡å™¨)</p>
        </div>
    </div>

    <!-- 3. æœ¬åœ°æ•°æ®åº“è—åœ¨å“ªé‡Œï¼Ÿ -->
    <h2>3. æ­ç§˜ï¼šæœ¬åœ°æ•°æ®åº“è—åœ¨å“ªï¼Ÿ</h2>
    <p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼šâ€œæ—¢ç„¶å®ƒè‡ªåŠ¨å»ºç«‹äº†ï¼Œé‚£æ–‡ä»¶åœ¨å“ªï¼Ÿâ€ å®ƒè—åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸‹çš„éšè—æ–‡ä»¶å¤¹é‡Œã€‚</p>

    <div class="file-tree">
backend/
â”œâ”€â”€ src/
â”œâ”€â”€ wrangler.jsonc
â””â”€â”€ <span class="folder">.wrangler/</span>           <span class="hidden-file">&lt;-- è¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸æ˜¯éšè—çš„ï¼Œä¸”è¢« git å¿½ç•¥</span>
    â””â”€â”€ <span class="folder">state/</span>
        â””â”€â”€ <span class="folder">v3/</span>
            â””â”€â”€ <span class="folder">d1/</span>
                â””â”€â”€ <span class="file">miniflare-D1DatabaseObject/</span>
                    â””â”€â”€ <span class="file">xxxxxxxx.sqlite</span>  <span class="hidden-file">&lt;-- è¿™å°±æ˜¯ä½ çš„æœ¬åœ°æ•°æ®åº“æœ¬ä½“ï¼</span>
    </div>

    <div class="note">
        <strong>æœ€ä½³å®è·µå»ºè®®ï¼š</strong>
        <ol>
            <li><strong>å…ˆæœ¬åœ°ï¼Œåäº‘ç«¯ï¼š</strong> æ°¸è¿œå…ˆä¸åŠ  <code>--remote</code> è¿è¡Œ SQLï¼Œç¡®ä¿æ²¡æŠ¥é”™ã€‚</li>
            <li><strong>ä¸¤è¾¹éƒ½è¦è·‘ï¼š</strong> æ—¢ç„¶æ•°æ®ä¸äº’é€šï¼Œä½ çš„ <code>schema.sql</code> (å»ºè¡¨è¯­å¥) éœ€è¦<strong>è¿è¡Œä¸¤æ¬¡</strong>ã€‚
                <ul>
                    <li>ä¸€æ¬¡ <code>npx wrangler d1 execute ...</code> (ç»™æœ¬åœ°ç”¨)</li>
                    <li>ä¸€æ¬¡ <code>npx wrangler d1 execute ... --remote</code> (ç»™äº‘ç«¯ç”¨)</li>
                </ul>
                å¦åˆ™ä½ ä¼šå‘ç°æœ¬åœ°è·‘å¾—å¥½å¥½çš„ï¼Œä¸€å‘å¸ƒä¸Šçº¿å°±æŠ¥é”™è¯´â€œæ‰¾ä¸åˆ°è¡¨â€ã€‚
            </li>
        </ol>
    </div>

</div>

</body>
</html>
