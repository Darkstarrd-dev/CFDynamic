```markdown
# äººç±»ä¸å¤§è¯­è¨€æ¨¡å‹åä½œè¿›è¡Œè½¯ä»¶å·¥ç¨‹å¼€å‘çš„æœ€ä½³å®è·µæŒ‡å—

> æœ¬æ–‡æ¡£æ•´ç†è‡ªä¸€æ¬¡å®Œæ•´çš„æ¢è®¨å¯¹è¯ï¼Œæ¶µç›–é—®é¢˜åˆ†æã€åä½œç­–ç•¥ã€å®Œæ•´é¡¹ç›®æ¨æ¼”åŠä¼šè¯ç®¡ç†æ–¹æ³•ã€‚

---

## ç›®å½•

1. [èƒŒæ™¯ä¸é—®é¢˜](#1-èƒŒæ™¯ä¸é—®é¢˜)
2. [é—®é¢˜æœ¬è´¨åˆ†æ](#2-é—®é¢˜æœ¬è´¨åˆ†æ)
3. [æ ¸å¿ƒåä½œç­–ç•¥](#3-æ ¸å¿ƒåä½œç­–ç•¥)
4. [æ¡ˆä¾‹å¤ç›˜ï¼šå›¾ç‰‡æµè§ˆå™¨é¡¹ç›®](#4-æ¡ˆä¾‹å¤ç›˜å›¾ç‰‡æµè§ˆå™¨é¡¹ç›®)
5. [å®Œæ•´é¡¹ç›®æ¨æ¼”](#5-å®Œæ•´é¡¹ç›®æ¨æ¼”)
6. [ä¼šè¯ç®¡ç†ç­–ç•¥](#6-ä¼šè¯ç®¡ç†ç­–ç•¥)
7. [æ€»ç»“ä¸é€ŸæŸ¥](#7-æ€»ç»“ä¸é€ŸæŸ¥)

---

## 1. èƒŒæ™¯ä¸é—®é¢˜

### 1.1 å¼€å‘åœºæ™¯

- **é¡¹ç›®ç±»å‹**ï¼šä¸ªäººé¡¹ç›®ï¼Œæ¶µç›– Webã€åç«¯ã€æœ¬åœ°åº”ç”¨
- **é¡¹ç›®è§„æ¨¡**ï¼šå°å‹å·¥å…·åˆ°ä¸­å‹è½¯ä»¶å·¥ç¨‹ï¼Œæ— å¤§å‹å·¥ç¨‹
- **æ ¸å¿ƒç—›ç‚¹**ï¼šéšç€é¡¹ç›®å¢é•¿ï¼ŒLLM ç”Ÿæˆè´¨é‡çº¿æ€§ä¸‹é™

### 1.2 å…¸å‹é—®é¢˜è¡¨ç°

| é˜¶æ®µ | è¡¨ç° |
|------|------|
| é¡¹ç›®åˆæœŸ | LLM å®Œæˆåº¦é«˜ï¼Œç»“æœæƒŠè‰³ |
| éœ€æ±‚å¢åŠ å | ä¿®å¤ä¸€ä¸ªé—®é¢˜ï¼Œåˆå†’å‡ºå…¶ä»–é—®é¢˜ |
| æŒç»­è¿­ä»£å | æ–°å¢åŠŸèƒ½å¯¼è‡´å·²ä¿®å¤çš„åŠŸèƒ½å¤±æ•ˆ |
| æœ€ç»ˆçŠ¶æ€ | é¡¹ç›®é™·å…¥æ··ä¹±ï¼Œæ— æ³•ç»§ç»­æ¨è¿› |

### 1.3 æ›¾å°è¯•çš„æ–¹æ³•

1. **ä¼ ç»Ÿæ–¹å¼**ï¼šæå‡ºéœ€æ±‚ â†’ LLM åˆ¶å®šè®¡åˆ’ â†’ åˆ†æ­¥æ‰§è¡Œ â†’ ç¬¬äº”æ­¥å·¦å³å´©æºƒ
2. **å•é—®é¢˜æ¨¡å¼**ï¼šé€ä¸ªé—®é¢˜è®© LLM åˆ†æï¼Œäººå·¥ä¿®æ”¹ â†’ æ•ˆç‡è¿‡ä½ï¼Œé¡¹ç›®æ”¾å¼ƒ

---

## 2. é—®é¢˜æœ¬è´¨åˆ†æ

### 2.1 è´¨é‡ä¸‹é™æ›²çº¿

```
é¡¹ç›®å¤æ‚åº¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚
è´¨é‡ â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
     â”‚        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
     â”‚              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
     â”‚                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
     â”‚                          â–ˆâ–ˆâ–ˆâ–ˆ â† å´©æºƒç‚¹
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         åˆæœŸæƒŠè‰³    ä¸­æœŸå‹‰å¼º    åæœŸå¤±æ§
```

### 2.2 LLM çš„æ ¹æœ¬å±€é™

| å±€é™ | å…·ä½“è¡¨ç° |
|------|----------|
| **æ— çŠ¶æ€** | æ¯æ¬¡å¯¹è¯"å¤±å¿†"ï¼Œéœ€è¦é‡æ–°ç†è§£é¡¹ç›® |
| **ä¸Šä¸‹æ–‡çª—å£** | å³ä½¿ 200K tokensï¼Œä¹Ÿæ— æ³•çœŸæ­£ç†è§£å¤æ‚ä»£ç åº“çš„æ‰€æœ‰å…³è” |
| **å±€éƒ¨è§†è§’** | å€¾å‘äºè§£å†³çœ¼å‰é—®é¢˜ï¼Œç¼ºä¹å…¨å±€æ¶æ„æ„ŸçŸ¥ |
| **æ— æ³•è¿è¡ŒéªŒè¯** | ä¸çŸ¥é“æ”¹åŠ¨çš„å®é™…å½±å“ï¼Œåªèƒ½"çŒœæµ‹" |

### 2.3 äººç±»è§’è‰²çš„é‡æ–°å®šä½

**ä¼ ç»Ÿæ€ç»´**ï¼šäººç±»å†™ä»£ç ï¼ŒLLM è¾…åŠ©

**åº”è¯¥è½¬å˜ä¸º**ï¼šäººç±»åšæ¶æ„å®ˆæŠ¤è€…ï¼ŒLLM åšå—æ§çš„æ‰§è¡Œè€…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    äººç±»èŒè´£                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æ¶æ„è®¾è®¡   â”‚ â”‚ è¾¹ç•Œå®ˆæŠ¤   â”‚ â”‚ è´¨é‡éªŒè¯   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚
â”‚        â”‚             â”‚             â”‚            â”‚
â”‚        â–¼             â–¼             â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              çº¦æŸä¸ä¸Šä¸‹æ–‡                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    LLM å—æ§ç”Ÿæˆ      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. æ ¸å¿ƒåä½œç­–ç•¥

### 3.1 ç­–ç•¥ä¸€ï¼šæ¨¡å—éš”ç¦» â€” é™åˆ¶ LLM çš„ä½œç”¨åŸŸ

**é—®é¢˜**ï¼šè®© LLM çœ‹åˆ°æ•´ä¸ªé¡¹ç›® â†’ å®ƒä¼š"å¥½å¿ƒ"åœ°æ”¹åŠ¨ä¸è¯¥æ”¹çš„åœ°æ–¹

**è§£å†³**ï¼šæ¯æ¬¡åªè®© LLM åœ¨ä¸€ä¸ªæ¨¡å—å†…å·¥ä½œ

```
âŒ é”™è¯¯æ–¹å¼ï¼š
"è¿™æ˜¯æˆ‘çš„æ•´ä¸ªé¡¹ç›®ï¼Œå¸®æˆ‘æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½"

âœ… æ­£ç¡®æ–¹å¼ï¼š
"è¿™æ˜¯ auth æ¨¡å—çš„æ¥å£å®šä¹‰å’Œç°æœ‰ä»£ç ã€‚
 åªä¿®æ”¹ auth/ ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚
 ä¸è¦æ”¹åŠ¨ database.py çš„æ¥å£ã€‚
 æ–°å¢ç™»å½•åŠŸèƒ½ï¼Œè¿”å› JWT tokenã€‚"
```

**äººç±»éœ€è¦åšçš„**ï¼š
- é¡¹ç›®åˆæœŸå°±å®šä¹‰æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œ
- æ¯ä¸ªæ¨¡å—æœ‰æ˜ç¡®çš„æ¥å£ï¼ˆè¾“å…¥/è¾“å‡ºï¼‰
- ç»™ LLM ä»»åŠ¡æ—¶ï¼Œæ˜ç¡®"ç¦åŒº"

### 3.2 ç­–ç•¥äºŒï¼šä¸Šä¸‹æ–‡å·¥ç¨‹ â€” ç²¾å¿ƒå‡†å¤‡æœ€å°æœ‰æ•ˆä¸Šä¸‹æ–‡

ä¸å…¶æŠŠæ‰€æœ‰ä»£ç ä¸¢ç»™ LLMï¼Œä¸å¦‚å‡†å¤‡ä¸€ä¸ª**æœ€å°æœ‰æ•ˆä¸Šä¸‹æ–‡åŒ…**ï¼š

```markdown
## æœ¬æ¬¡ä»»åŠ¡ä¸Šä¸‹æ–‡

### 1. è¦ä¿®æ”¹çš„æ–‡ä»¶
[ç²˜è´´å…·ä½“ä»£ç ]

### 2. ç›¸å…³æ¥å£å®šä¹‰ï¼ˆåªéœ€ç­¾åï¼Œä¸éœ€å®ç°ï¼‰
```python
# database.py - ä¸è¦ä¿®æ”¹æ­¤æ–‡ä»¶
def get_user(user_id: str) -> User | None: ...
def save_user(user: User) -> bool: ...
```

### 3. çº¦æŸæ¡ä»¶
- ä½¿ç”¨ç°æœ‰çš„ logger å®ä¾‹ï¼Œä¸è¦åˆ›å»ºæ–°çš„
- é”™è¯¯å¤„ç†ç»Ÿä¸€æŠ›å‡º AppException
- æ‰€æœ‰å¼‚æ­¥å‡½æ•°ç”¨ async/await

### 4. æœ¬æ¬¡ç›®æ ‡
æ·»åŠ ç”¨æˆ·é‚®ç®±éªŒè¯åŠŸèƒ½
```

### 3.3 ç­–ç•¥ä¸‰ï¼šæµ‹è¯•ä½œä¸ºå®‰å…¨ç½‘

è¿™æ˜¯é˜²æ­¢"ä¿®ä¸€ä¸ªåä¸¤ä¸ª"çš„å”¯ä¸€å¯é æ–¹æ³•ã€‚

**åä½œæ¨¡å¼**ï¼š

```
ç¬¬ä¸€æ­¥ï¼šäººç±»å†™/å®¡æ ¸æµ‹è¯•
         â†“
ç¬¬äºŒæ­¥ï¼šLLM å†™å®ç°
         â†“
ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œæµ‹è¯•éªŒè¯
         â†“
ç¬¬å››æ­¥ï¼šæµ‹è¯•å¤±è´¥ â†’ å¸¦ç€å¤±è´¥ä¿¡æ¯è®© LLM ä¿®å¤
         â†“
ç¬¬äº”æ­¥ï¼šå…¨éƒ¨é€šè¿‡ â†’ æäº¤
```

**æœ‰æ•ˆçš„ prompt æ¨¡æ¿**ï¼š

```
ç°æœ‰æµ‹è¯•ç”¨ä¾‹ï¼š
[ç²˜è´´æµ‹è¯•ä»£ç ]

å½“å‰å®ç°ï¼š
[ç²˜è´´å®ç°ä»£ç ]

æµ‹è¯•å¤±è´¥ä¿¡æ¯ï¼š
[ç²˜è´´é”™è¯¯]

è¯·ä¿®å¤å®ç°ï¼Œä½¿æµ‹è¯•é€šè¿‡ã€‚ä¸è¦ä¿®æ”¹æµ‹è¯•ã€‚
```

### 3.4 ç­–ç•¥å››ï¼šç»´æŠ¤é¡¹ç›®è§„èŒƒæ–‡æ¡£

åˆ›å»ºä¸€ä¸ª `LLM_CONTEXT.md` æ–‡ä»¶ï¼Œæ¯æ¬¡äº¤ç»™ LLM ä»»åŠ¡æ—¶é™„å¸¦ï¼š

```markdown
# é¡¹ç›®è§„èŒƒï¼ˆç»™ LLMï¼‰

## æŠ€æœ¯æ ˆ
- Python 3.11, FastAPI, SQLAlchemy 2.0
- å¼‚æ­¥ä¼˜å…ˆ

## ä»£ç è§„èŒƒ
- ç±»å‹æ³¨è§£å¿…é¡»
- å‡½æ•°ä¸è¶…è¿‡ 30 è¡Œ
- ä½¿ç”¨ dataclass è€Œé dict ä¼ é€’æ•°æ®

## æ¶æ„è§„åˆ™
- Controller â†’ Service â†’ Repository åˆ†å±‚
- è·¨å±‚è°ƒç”¨å¿…é¡»é€šè¿‡æ¥å£
- ä¸å…è®¸å¾ªç¯ä¾èµ–

## å·²çŸ¥é™·é˜±
- User.email å·²æœ‰å”¯ä¸€ç´¢å¼•ï¼Œæ–°å¢ç”¨æˆ·éœ€æ•è· IntegrityError
- config æ˜¯å•ä¾‹ï¼Œä¸è¦é‡å¤åˆå§‹åŒ–
```

### 3.5 ç­–ç•¥äº”ï¼šå°æ­¥æäº¤ï¼Œé¢‘ç¹éªŒè¯

```
âŒ å±é™©æ¨¡å¼ï¼š
    éœ€æ±‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ä¸€æ¬¡æ€§å®Œæˆ
    ï¼ˆä¸­é—´æ— éªŒè¯ï¼Œæœ€åå‘ç°ä¸€å †é—®é¢˜æ··åœ¨ä¸€èµ·ï¼‰

âœ… å®‰å…¨æ¨¡å¼ï¼š
    éœ€æ±‚ â”€â”€â–º æ‹†è§£ â”€â”€â–º å®ŒæˆA â”€â”€â–º éªŒè¯ â”€â”€â–º æäº¤
                         â”‚
                         â–¼
                    å®ŒæˆB â”€â”€â–º éªŒè¯ â”€â”€â–º æäº¤
                         â”‚
                         â–¼
                    å®ŒæˆC â”€â”€â–º éªŒè¯ â”€â”€â–º æäº¤
```

æ¯ä¸ª"å®Œæˆâ†’éªŒè¯â†’æäº¤"æ˜¯ä¸€ä¸ªå®‰å…¨æ£€æŸ¥ç‚¹ï¼Œå‡ºé—®é¢˜å¯ä»¥ç²¾ç¡®å®šä½å’Œå›æ»šã€‚

### 3.6 ä»»åŠ¡ç±»å‹çš„åˆ†å·¥å»ºè®®

| ä»»åŠ¡ç±»å‹ | ä¸»å¯¼æ–¹ | åŸå›  |
|---------|-------|------|
| æ–°å»ºç‹¬ç«‹æ¨¡å— | LLM | æ— å†å²åŒ…è¢±ï¼Œå¯ä»¥å‘æŒ¥ |
| å·²æœ‰ä»£ç å°ä¿®æ”¹ | LLM + äººç±»å®¡æ ¸ | éœ€éªŒè¯ä¸ç ´åç°æœ‰åŠŸèƒ½ |
| è·¨æ¨¡å—é‡æ„ | äººç±»ä¸»å¯¼ | LLM éš¾ä»¥æŠŠæ§å…¨å±€å½±å“ |
| æ¶æ„å†³ç­– | äººç±» | LLM ç¼ºä¹é¡¹ç›®é•¿æœŸè§†è§’ |
| Bug å®šä½ | äººç±» | LLM ä¸èƒ½è¿è¡Œè°ƒè¯• |
| Bug ä¿®å¤ | LLM | å®šä½åä¿®å¤ç›¸å¯¹æ˜ç¡® |
| å†™æµ‹è¯• | åä½œ | LLM å†™åˆç¨¿ï¼Œäººç±»è¡¥è¾¹ç•Œæƒ…å†µ |

---

## 4. æ¡ˆä¾‹å¤ç›˜ï¼šå›¾ç‰‡æµè§ˆå™¨é¡¹ç›®

### 4.1 é¡¹ç›®èƒŒæ™¯

ä¸€ä¸ªåŸºäºç½‘é¡µçš„å›¾ç‰‡æµè§ˆå™¨ï¼Œä½¿ç”¨ File System Access API è®¿é—®ç”¨æˆ·æœ¬åœ°æ•°æ®ã€‚

### 4.2 åŸè®¡åˆ’ä¸æ‰§è¡Œæƒ…å†µ

| æ­¥éª¤ | å†…å®¹ | ç»“æœ |
|------|------|------|
| ç¬¬ä¸€æ­¥ | åŸºæœ¬é¡µé¢æ¡†æ¶ | âœ“ å®Œæˆ |
| ç¬¬äºŒæ­¥ | File System Access API æµ‹è¯• | âœ“ å®Œæˆï¼ˆè§£å†³äº†è·¨åŸŸé—®é¢˜ï¼‰ |
| ç¬¬ä¸‰æ­¥ | å›¾ç‰‡åŠ è½½ + å¤šæ ¼å¼ + æ–‡ä»¶å¤¹éå† + å‹ç¼©åŒ… + ç¿»é¡µ + ç¼©æ”¾ + å…¨å± + è‡ªåŠ¨æ’­æ”¾ | âš ï¸ åŠŸèƒ½å †ç§¯ |
| ç¬¬å››æ­¥ | å•é¡µ â†’ åŒé¡µ | âš ï¸ çŠ¶æ€åˆ†è£‚ |
| ç¬¬äº”æ­¥ | ä¸¤è¾¹ç‹¬ç«‹æ§åˆ¶ | âŒ å´©æºƒï¼Œé¡¹ç›®æ”¾å¼ƒ |

### 4.3 é—®é¢˜æ ¹æºåˆ†æ

```
åŠŸèƒ½å¤æ‚åº¦
    â”‚
    â”‚                            â”Œâ”€â”€â”€ ç¬¬äº”æ­¥ï¼šåŒé¡µç‹¬ç«‹çŠ¶æ€
    â”‚                         â”Œâ”€â”€â”¤    ä¸¤ä¸ªæ’­æ”¾é€Ÿåº¦
    â”‚                    â”Œâ”€â”€â”€â”€â”¤  â””â”€â”€â”€ ä¿®å¤å¯¼è‡´è¿é”ååº”
    â”‚               â”Œâ”€â”€â”€â”€â”¤    â”‚
    â”‚          â”Œâ”€â”€â”€â”€â”¤    â”‚    â””â”€â”€â”€â”€â”€â”€ ç¬¬å››æ­¥ï¼šçŠ¶æ€å¼€å§‹åˆ†è£‚
    â”‚     â”Œâ”€â”€â”€â”€â”¤    â”‚    â”‚
    â”‚     â”‚    â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‹ç¼©åŒ…å½“æ–‡ä»¶å¤¹å±•å¼€
    â”‚     â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è‡ªåŠ¨éå† + åˆ—è¡¨
    â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç¿»é¡µ/ç¼©æ”¾/å…¨å±/è‡ªåŠ¨æ’­æ”¾
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç¬¬ä¸‰æ­¥ï¼šåŠŸèƒ½çˆ†ç‚¸ç‚¹ âš ï¸
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ­¥éª¤
         1      2         3              4     5
        æ¡†æ¶  APIæµ‹è¯•   åŠŸèƒ½çˆ†ç‚¸      åˆ†é¡µ   å´©æºƒ
```

**æœ€è‡´å‘½çš„é—®é¢˜æ˜¯ç¬¬ä¸‰æ­¥**ï¼šç»™ LLM çš„æ˜¯ä¸€ä¸ªåŠŸèƒ½æ¸…å•ï¼Œè€Œä¸æ˜¯å¯éªŒè¯çš„å•å…ƒã€‚

| æ­¥éª¤ | å‘ç”Ÿäº†ä»€ä¹ˆ | é—®é¢˜æœ¬è´¨ |
|-----|-----------|---------|
| ç¬¬ä¸‰æ­¥ | ä¸€æ¬¡æ€§è¦æ±‚ 7+ ä¸ªåŠŸèƒ½ç‚¹ | **éœ€æ±‚å †ç§¯** |
| ç¬¬å››æ­¥ | å•é¡µ â†’ åŒé¡µ | **çŠ¶æ€åˆ†è£‚**ï¼šä» 1 å¥—çŠ¶æ€å˜æˆ 2 å¥— |
| ç¬¬äº”æ­¥ | ä¸¤è¾¹ç‹¬ç«‹æ§åˆ¶ | **çŠ¶æ€è€¦åˆ**ï¼šLLM å·²åˆ†ä¸æ¸…å“ªä¸ªçŠ¶æ€å±äºå“ªä¸ªé¢æ¿ |

### 4.4 æ­£ç¡®çš„æ­¥éª¤æ‹†åˆ†

åŸæ¥çš„ç¬¬ä¸‰æ­¥ï¼ˆä¸€æ¬¡æ€§ï¼‰ï¼š
```
å›¾ç‰‡æ ¼å¼ + æ–‡ä»¶å¤¹ + å‹ç¼©åŒ… + ç¿»é¡µ + ç¼©æ”¾ + å…¨å± + è‡ªåŠ¨æ’­æ”¾
```

åº”è¯¥æ‹†åˆ†ä¸º 8 ä¸ªç‹¬ç«‹æ­¥éª¤ï¼š
```
3a. åŠ è½½å¹¶æ˜¾ç¤ºå•å¼ å›¾ç‰‡ï¼ˆç¡¬ç¼–ç è·¯å¾„ï¼‰
3b. ç¿»é¡µï¼ˆä¸Šä¸€å¼ /ä¸‹ä¸€å¼ ï¼‰
3c. ç¼©æ”¾åŠŸèƒ½
3d. å…¨å±åŠŸèƒ½  
3e. è‡ªåŠ¨æ’­æ”¾
3f. æ–‡ä»¶å¤¹é€‰æ‹© + éå†
3g. å‹ç¼©åŒ…è¯»å–ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰
3h. å‹ç¼©åŒ…é›†æˆåˆ°æ–‡ä»¶åˆ—è¡¨
```

---

## 5. å®Œæ•´é¡¹ç›®æ¨æ¼”

ä»¥ä¸‹æ˜¯å›¾ç‰‡æµè§ˆå™¨é¡¹ç›®çš„å®Œæ•´æ­£ç¡®æ¨æ¼”è¿‡ç¨‹ã€‚

### 5.1 é˜¶æ®µ 0ï¼šéœ€æ±‚æ¾„æ¸…

#### ç¬¬ä¸€æ¬¡å¯¹è¯

**äººç±»åº”è¯¥è¿™æ ·å¼€å§‹**ï¼š

```
æˆ‘æƒ³åšä¸€ä¸ªæœ¬åœ°å›¾ç‰‡æµè§ˆå™¨ï¼ŒåŸºäºç½‘é¡µæŠ€æœ¯ã€‚

å¤§æ¦‚çš„éœ€æ±‚ï¼š
- èƒ½é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œæµè§ˆé‡Œé¢çš„å›¾ç‰‡
- æ”¯æŒå¸¸è§å›¾ç‰‡æ ¼å¼
- èƒ½æ‰“å¼€å‹ç¼©åŒ…ï¼Œåƒæ–‡ä»¶å¤¹ä¸€æ ·æµè§ˆé‡Œé¢çš„å›¾ç‰‡
- åŸºæœ¬çš„æµè§ˆåŠŸèƒ½ï¼šç¿»é¡µã€ç¼©æ”¾ã€å…¨å±ã€è‡ªåŠ¨æ’­æ”¾
- å¯èƒ½éœ€è¦åŒæ—¶æ˜¾ç¤ºä¸¤ä¸ªé¢æ¿ï¼Œåˆ†åˆ«æµè§ˆä¸åŒå†…å®¹

è¯·å…ˆå¸®æˆ‘æ¢³ç†éœ€æ±‚ï¼Œç¡®è®¤æˆ‘æ˜¯å¦é—æ¼äº†ä»€ä¹ˆï¼Œæˆ–è€…æœ‰ä»€ä¹ˆéœ€è¦æˆ‘æ¾„æ¸…çš„ã€‚
```

> **è¦ç‚¹**ï¼šä¸è¦ä¸€å¼€å§‹å°±è¦æ±‚"åšè®¡åˆ’"æˆ–"å¼€å§‹åš"ï¼Œå…ˆè®© LLM å¸®ä½ å‘ç°éœ€æ±‚ä¸­çš„æ¨¡ç³Šåœ°å¸¦ã€‚

#### LLM çš„æ¾„æ¸…é—®é¢˜

**æ ¸å¿ƒåŠŸèƒ½ç¡®è®¤**ï¼š

| åŠŸèƒ½ç‚¹ | éœ€è¦ç¡®è®¤ |
|-------|---------|
| æ–‡ä»¶å¤¹é€‰æ‹© | æ˜¯é€‰æ‹©åæ˜¾ç¤ºæ‰€æœ‰å›¾ç‰‡åˆ—è¡¨ï¼Œè¿˜æ˜¯åªæ˜¾ç¤ºå½“å‰å›¾ç‰‡+ç¿»é¡µï¼Ÿ |
| å‹ç¼©åŒ…æ”¯æŒ | å“ªäº›æ ¼å¼ï¼Ÿzip/rar/7zï¼Ÿæ˜¯å¦éœ€è¦æ”¯æŒåµŒå¥—å‹ç¼©åŒ…ï¼Ÿ |
| å›¾ç‰‡æ ¼å¼ | jpg/png/gif/webpï¼Ÿgif éœ€è¦åŠ¨ç”»æ’­æ”¾å—ï¼Ÿ |
| è‡ªåŠ¨æ’­æ”¾ | æ’­æ”¾é—´éš”å¯è°ƒå—ï¼ŸèŒƒå›´æ˜¯å¤šå°‘ï¼Ÿ |
| åŒé¢æ¿ | æ˜¯"ä¸€å®šéœ€è¦"è¿˜æ˜¯"ä»¥åå¯èƒ½éœ€è¦"ï¼Ÿä¸¤ä¸ªé¢æ¿ç‹¬ç«‹æ“ä½œè¿˜æ˜¯è”åŠ¨ï¼Ÿ |

**ä½¿ç”¨åœºæ™¯é—®é¢˜**ï¼š
- å›¾ç‰‡æ•°é‡çº§ï¼Ÿå‡ åå¼  vs å‡ åƒå¼ 
- å›¾ç‰‡å°ºå¯¸ï¼Ÿæ™®é€šç…§ç‰‡ vs è¶…å¤§æ¼«ç”»æ‰«æå›¾
- éœ€è¦è®°ä½ä¸Šæ¬¡æµè§ˆä½ç½®å—ï¼Ÿ

**è¾¹ç•Œé—®é¢˜**ï¼š
- éœ€è¦å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½å—ï¼Ÿ
- éœ€è¦æ”¶è—/æ ‡è®°åŠŸèƒ½å—ï¼Ÿ
- éœ€è¦å¹»ç¯ç‰‡ä¹‹å¤–çš„æ’åºæ–¹å¼å—ï¼Ÿ

#### äººç±»çš„å›åº”ç¤ºä¾‹

```
é€ä¸ªå›ç­”ï¼š

æ–‡ä»¶å¤¹é€‰æ‹©ï¼šæ˜¾ç¤ºåˆ—è¡¨ + å½“å‰å›¾ç‰‡
å‹ç¼©åŒ…ï¼šå…ˆåªæ”¯æŒ zipï¼Œä¸éœ€è¦åµŒå¥—
å›¾ç‰‡æ ¼å¼ï¼šjpg/png/gif/webpï¼Œgif éœ€è¦åŠ¨ç”»
è‡ªåŠ¨æ’­æ”¾ï¼šå¯è°ƒï¼Œ1-30ç§’
åŒé¢æ¿ï¼šä¸€å®šéœ€è¦ï¼Œç‹¬ç«‹æ“ä½œ

ä½¿ç”¨åœºæ™¯ï¼š
- å‡ ç™¾åˆ°å‡ åƒå¼ 
- ä¼šæœ‰å¤§å°ºå¯¸å›¾ç‰‡ï¼ˆæ¼«ç”»æ‰«æï¼‰
- éœ€è¦è®°ä½ä½ç½®

è¾¹ç•Œ - éƒ½ä¸éœ€è¦ï¼š
- ä¸è¦ç¼–è¾‘
- ä¸è¦æ”¶è—
- æ’åºå…ˆæŒ‰æ–‡ä»¶åå°±è¡Œ
```

### 5.2 é˜¶æ®µ 1ï¼šåˆ›å»ºé¡¹ç›®è§„èŒƒæ–‡æ¡£

#### åˆå§‹ç‰ˆæœ¬ï¼š`LLM_CONTEXT.md`

```markdown
# å›¾ç‰‡æµè§ˆå™¨é¡¹ç›® - LLM åä½œä¸Šä¸‹æ–‡

## é¡¹ç›®æ¦‚è¿°
æœ¬åœ°å›¾ç‰‡æµè§ˆå™¨ï¼ŒåŸºäº Web æŠ€æœ¯ï¼Œé€šè¿‡æœ¬åœ°æœåŠ¡å™¨è®¿é—®æ–‡ä»¶ç³»ç»Ÿã€‚

## éœ€æ±‚è¾¹ç•Œ

### å¿…é¡»å®ç°
- [ ] é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œæ˜¾ç¤ºå›¾ç‰‡åˆ—è¡¨
- [ ] æµè§ˆå›¾ç‰‡ï¼šç¿»é¡µã€ç¼©æ”¾ã€å…¨å±
- [ ] è‡ªåŠ¨æ’­æ”¾ï¼ˆ1-30ç§’å¯è°ƒï¼‰
- [ ] æ”¯æŒ zip å‹ç¼©åŒ…ï¼ˆä½œä¸ºè™šæ‹Ÿæ–‡ä»¶å¤¹ï¼‰
- [ ] åŒé¢æ¿ç‹¬ç«‹æµè§ˆ
- [ ] è®°ä½ä¸Šæ¬¡æµè§ˆä½ç½®
- [ ] æ”¯æŒæ ¼å¼ï¼šjpg, png, gif(åŠ¨ç”»), webp
- [ ] æ”¯æŒå¤§å°ºå¯¸å›¾ç‰‡ï¼ˆæ¼«ç”»æ‰«æçº§åˆ«ï¼‰
- [ ] æ”¯æŒå‡ åƒå¼ å›¾ç‰‡è§„æ¨¡

### æ˜ç¡®ä¸åš
- âœ— å›¾ç‰‡ç¼–è¾‘ï¼ˆè£å‰ªã€æ—‹è½¬ç­‰ï¼‰
- âœ— æ”¶è—/æ ‡è®°åŠŸèƒ½
- âœ— å¤æ‚æ’åºï¼ˆåªæŒ‰æ–‡ä»¶åï¼‰
- âœ— åµŒå¥—å‹ç¼©åŒ…
- âœ— zip ä¹‹å¤–çš„å‹ç¼©æ ¼å¼

## æŠ€æœ¯é€‰å‹
ï¼ˆå¾…å®šï¼‰

## æ¶æ„è®¾è®¡
ï¼ˆå¾…å®šï¼‰

## ä»£ç è§„èŒƒ
ï¼ˆå¾…å®šï¼‰

## æ¨¡å—æ¸…å•
ï¼ˆå¾…å®šï¼‰

## å¼€å‘æ—¥å¿—
- YYYY-MM-DD: é¡¹ç›®å¯åŠ¨ï¼Œéœ€æ±‚ç¡®è®¤å®Œæˆ
```

### 5.3 é˜¶æ®µ 2ï¼šæŠ€æœ¯é€‰å‹

#### äººç±»çš„è¯·æ±‚

```
éœ€æ±‚ç¡®è®¤å®Œæˆã€‚ç°åœ¨è¯·å¸®æˆ‘è¿›è¡ŒæŠ€æœ¯é€‰å‹ã€‚

æˆ‘çš„èƒŒæ™¯ï¼š
- ç†Ÿæ‚‰ HTML/CSS/JavaScript
- äº†è§£ Vueï¼ˆæˆ– Reactï¼‰
- æ²¡æœ‰ç”¨è¿‡ File System Access API

è¯·ç»™æˆ‘æŠ€æœ¯é€‰å‹å»ºè®®ï¼Œè¯´æ˜ç†ç”±ï¼Œæˆ‘æ¥åšæœ€ç»ˆå†³å®šã€‚
```

#### LLM çš„å»ºè®®

**å‰ç«¯æ¡†æ¶**ï¼š

| é€‰é¡¹ | æ¨èåº¦ | ç†ç”± |
|-----|-------|------|
| åŸç”Ÿ JS | â­â­ | æœ€ç®€å•ï¼Œä½†çŠ¶æ€ç®¡ç†ä¼šå˜å¤æ‚ |
| Vue 3 | â­â­â­â­ | å“åº”å¼çŠ¶æ€ç®¡ç†é€‚åˆåŒé¢æ¿åœºæ™¯ |
| React | â­â­â­ | å¯ä»¥ï¼Œä½†å­¦ä¹ æˆæœ¬ç•¥é«˜ |

**å»ºè®®ï¼šVue 3 + ç»„åˆå¼ API**

**æ–‡ä»¶è®¿é—®æ–¹æ¡ˆ**ï¼š

| é€‰é¡¹ | æ¨èåº¦ | ç†ç”± |
|-----|-------|------|
| File System Access API | â­â­ | æµè§ˆå™¨åŸç”Ÿï¼Œä½†å…¼å®¹æ€§é—®é¢˜å¤š |
| æœ¬åœ°æœåŠ¡å™¨ | â­â­â­â­ | ç¨³å®šå¯æ§ï¼Œè§£å†³è·¨åŸŸé—®é¢˜ |
| Electron | â­â­â­ | å®Œæ•´æ¡Œé¢åº”ç”¨ï¼Œä½†å¤æ‚åº¦é«˜ |

**å»ºè®®ï¼šæœ¬åœ° Node.js æœåŠ¡å™¨**

**ç»¼åˆå»ºè®®**ï¼š

```
å‰ç«¯ï¼šVue 3 + Vite
åç«¯ï¼šNode.js + Expressï¼ˆç®€å•æœåŠ¡å™¨ï¼‰
å‹ç¼©åŒ…ï¼šåç«¯ adm-zip
é€šä¿¡ï¼šREST API
```

#### æ›´æ–°æ–‡æ¡£

```markdown
## æŠ€æœ¯é€‰å‹

### å‰ç«¯
- Vue 3ï¼ˆç»„åˆå¼ APIï¼‰
- Vite æ„å»º

### åç«¯
- Node.js
- Express

### å…³é”®åº“
- adm-zipï¼ˆå‹ç¼©åŒ…å¤„ç†ï¼Œåç«¯ï¼‰

### é€šä¿¡æ–¹å¼
- REST APIï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰
```

### 5.4 é˜¶æ®µ 3ï¼šæ¶æ„è®¾è®¡

#### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯ (Vue 3)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    App.vue                           â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚  â”‚     PanelA          â”‚ â”‚      PanelB         â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ ImageViewer  â”‚   â”‚ â”‚  â”‚ ImageViewer  â”‚   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ FileList     â”‚   â”‚ â”‚  â”‚ FileList     â”‚   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ Controls     â”‚   â”‚ â”‚  â”‚ Controls     â”‚   â”‚    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     çŠ¶æ€ç®¡ç†                            â”‚  â”‚
â”‚  â”‚   panelStore(A)          panelStore(B)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     API æœåŠ¡å±‚                         â”‚  â”‚
â”‚  â”‚   fileService.jsï¼ˆå°è£…æ‰€æœ‰åç«¯ API è°ƒç”¨ï¼‰              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼ HTTP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       åç«¯ (Express)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ–‡ä»¶å¤¹è·¯ç”±     â”‚ â”‚   å›¾ç‰‡è·¯ç”±       â”‚ â”‚  å‹ç¼©åŒ…è·¯ç”±    â”‚  â”‚
â”‚  â”‚  /api/folder    â”‚ â”‚   /api/image    â”‚ â”‚  /api/archive â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                   â”‚                   â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     æ–‡ä»¶æœåŠ¡å±‚                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¨¡å—èŒè´£å®šä¹‰

**å‰ç«¯ç»„ä»¶**ï¼š

| ç»„ä»¶ | èŒè´£ | çŠ¶æ€ |
|-----|------|------|
| `App.vue` | å¸ƒå±€ï¼Œç®¡ç†ä¸¤ä¸ªé¢æ¿ | æ— è‡ªèº«çŠ¶æ€ |
| `Panel.vue` | é¢æ¿å®¹å™¨ï¼Œç»„åˆå­ç»„ä»¶ | æŒæœ‰ panelStore å¼•ç”¨ |
| `ImageViewer.vue` | æ˜¾ç¤ºå›¾ç‰‡ï¼Œç¼©æ”¾äº¤äº’ | æ— çŠ¶æ€ï¼Œçº¯å±•ç¤º |
| `FileList.vue` | æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ | æ— çŠ¶æ€ï¼Œçº¯å±•ç¤º |
| `Controls.vue` | æ’­æ”¾æ§åˆ¶æŒ‰é’® | æ— çŠ¶æ€ï¼Œçº¯å±•ç¤º |

> **å…³é”®è®¾è®¡**ï¼šå±•ç¤ºç»„ä»¶æ— çŠ¶æ€ï¼Œæ‰€æœ‰çŠ¶æ€åœ¨ Store ä¸­

**çŠ¶æ€ç»“æ„**ï¼š

```javascript
// æ¯ä¸ªé¢æ¿ä¸€ä¸ªç‹¬ç«‹çš„ store å®ä¾‹
function createPanelStore(panelId) {
  return {
    panelId,
    
    // æ–‡ä»¶ç›¸å…³
    currentPath: '',        // å½“å‰æ–‡ä»¶å¤¹/å‹ç¼©åŒ…è·¯å¾„
    fileList: [],           // æ–‡ä»¶åˆ—è¡¨
    currentIndex: 0,        // å½“å‰æ˜¾ç¤ºç´¢å¼•
    
    // æ˜¾ç¤ºç›¸å…³
    zoom: 100,              // ç¼©æ”¾ç™¾åˆ†æ¯”
    isFullscreen: false,
    
    // æ’­æ”¾ç›¸å…³
    isPlaying: false,
    playSpeed: 3,           // ç§’
  }
}
```

**åç«¯ API**ï¼š

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| `/api/folder/list` | POST | åˆ—å‡ºæ–‡ä»¶å¤¹å†…å®¹ |
| `/api/folder/select` | GET | æ‰“å¼€æ–‡ä»¶å¤¹é€‰æ‹©å¯¹è¯æ¡† |
| `/api/image/:path` | GET | è·å–å›¾ç‰‡å†…å®¹ |
| `/api/archive/list` | POST | åˆ—å‡ºå‹ç¼©åŒ…å†…å®¹ |
| `/api/archive/extract` | POST | æå–å‹ç¼©åŒ…ä¸­çš„å›¾ç‰‡ |

#### æ›´æ–°æ–‡æ¡£

```markdown
## æ¶æ„è®¾è®¡

### å‰ç«¯ç»„ä»¶ç»“æ„
- App.vueï¼šå¸ƒå±€å®¹å™¨
- Panel.vueï¼šé¢æ¿å®¹å™¨ï¼ˆå¤ç”¨ä¸¤æ¬¡ï¼‰
- ImageViewer.vueï¼šå›¾ç‰‡æ˜¾ç¤ºï¼ˆæ— çŠ¶æ€ï¼‰
- FileList.vueï¼šæ–‡ä»¶åˆ—è¡¨ï¼ˆæ— çŠ¶æ€ï¼‰
- Controls.vueï¼šæ’­æ”¾æ§åˆ¶ï¼ˆæ— çŠ¶æ€ï¼‰

### çŠ¶æ€ç®¡ç†
- ä½¿ç”¨ panelStore å·¥å‚å‡½æ•°
- æ¯ä¸ªé¢æ¿ç‹¬ç«‹çš„çŠ¶æ€å®ä¾‹
- å±•ç¤ºç»„ä»¶ä¸æŒæœ‰çŠ¶æ€

### åç«¯ API
- /api/folder/* - æ–‡ä»¶å¤¹æ“ä½œ
- /api/image/* - å›¾ç‰‡è·å–
- /api/archive/* - å‹ç¼©åŒ…æ“ä½œ

### ç›®å½•ç»“æ„
```
project/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Panel.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageViewer.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ FileList.vue
â”‚   â”‚   â”‚   â””â”€â”€ Controls.vue
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â””â”€â”€ panelStore.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ fileService.js
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â””â”€â”€ ...
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ folder.js
â”‚   â”‚   â”œâ”€â”€ image.js
â”‚   â”‚   â””â”€â”€ archive.js
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ fileService.js
â”‚   â””â”€â”€ server.js
â””â”€â”€ LLM_CONTEXT.md
```
```

### 5.5 é˜¶æ®µ 4ï¼šä»»åŠ¡æ‹†åˆ†

#### å®æ–½æ­¥éª¤æ¸…å•

```
é˜¶æ®µ Aï¼šåŸºç¡€éª¨æ¶
  A1. é¡¹ç›®åˆå§‹åŒ–ï¼ˆå‰åç«¯ç›®å½•ã€ä¾èµ–ï¼‰
  A2. åç«¯æœåŠ¡å™¨å¯åŠ¨ + CORS é…ç½®
  A3. å‰ç«¯ç©ºç™½é¡µé¢ + èƒ½è®¿é—®åç«¯

é˜¶æ®µ Bï¼šå•å›¾ç‰‡æ˜¾ç¤ºï¼ˆæœ€å°åŠŸèƒ½é—­ç¯ï¼‰
  B1. åç«¯ï¼šç¡¬ç¼–ç è¿”å›ä¸€å¼ æµ‹è¯•å›¾ç‰‡
  B2. å‰ç«¯ï¼šImageViewer ç»„ä»¶æ˜¾ç¤ºè¿™å¼ å›¾ç‰‡
  B3. å›¾ç‰‡åŠ è½½çŠ¶æ€ï¼ˆloading/errorï¼‰

é˜¶æ®µ Cï¼šæ–‡ä»¶å¤¹æµè§ˆ
  C1. åç«¯ï¼šè¯»å–æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œè¿”å›å›¾ç‰‡åˆ—è¡¨
  C2. å‰ç«¯ï¼šFileList ç»„ä»¶æ˜¾ç¤ºåˆ—è¡¨
  C3. ç‚¹å‡»åˆ—è¡¨é¡¹ â†’ æ˜¾ç¤ºå¯¹åº”å›¾ç‰‡
  C4. åç«¯ï¼šæ–‡ä»¶å¤¹é€‰æ‹©å¯¹è¯æ¡†
  C5. å‰ç«¯ï¼šé€‰æ‹©æ–‡ä»¶å¤¹æŒ‰é’®

é˜¶æ®µ Dï¼šåŸºç¡€æµè§ˆåŠŸèƒ½
  D1. ç¿»é¡µï¼ˆä¸Šä¸€å¼ /ä¸‹ä¸€å¼ ï¼‰
  D2. é”®ç›˜å¿«æ·é”®ï¼ˆå·¦å³ç®­å¤´ï¼‰
  D3. ç¼©æ”¾åŠŸèƒ½
  D4. å…¨å±åŠŸèƒ½

é˜¶æ®µ Eï¼šè‡ªåŠ¨æ’­æ”¾
  E1. æ’­æ”¾/æš‚åœ
  E2. é€Ÿåº¦è°ƒèŠ‚

é˜¶æ®µ Fï¼šå‹ç¼©åŒ…æ”¯æŒ
  F1. åç«¯ï¼šè§£æ zip æ–‡ä»¶åˆ—è¡¨
  F2. åç«¯ï¼šæå– zip ä¸­çš„å›¾ç‰‡
  F3. å‰ç«¯ï¼šæŠŠå‹ç¼©åŒ…å½“ä½œæ–‡ä»¶å¤¹å¤„ç†

é˜¶æ®µ Gï¼šåŒé¢æ¿
  G1. panelStore å·¥å‚å‡½æ•° + å•é¢æ¿æ­£å¸¸
  G2. UI åŒé¢æ¿å¸ƒå±€
  G3. ä¸¤é¢æ¿ç‹¬ç«‹æ“ä½œ

é˜¶æ®µ Hï¼šæŒä¹…åŒ–
  H1. è®°ä½æ¯ä¸ªé¢æ¿çš„ä¸Šæ¬¡ä½ç½®
  H2. å¯åŠ¨æ—¶æ¢å¤
```

#### å•æ­¥è§„æ ¼ç¤ºä¾‹

**A1. é¡¹ç›®åˆå§‹åŒ–**

```
ç›®æ ‡ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„ï¼Œå®‰è£…ä¾èµ–

äº§å‡ºç‰©ï¼š
- frontend/ ç›®å½•ï¼ˆVite + Vue 3 åˆå§‹åŒ–å®Œæˆï¼‰
- backend/ ç›®å½•ï¼ˆExpress åˆå§‹åŒ–å®Œæˆï¼‰

éªŒæ”¶æ ‡å‡†ï¼š
- cd frontend && npm run dev â†’ çœ‹åˆ° Vite é»˜è®¤é¡µé¢
- cd backend && npm start â†’ æ§åˆ¶å°è¾“å‡º "Server running on 3001"

æ— éœ€å®ç°ä»»ä½•ä¸šåŠ¡åŠŸèƒ½
```

**B2. ImageViewer ç»„ä»¶**

```
ç›®æ ‡ï¼šåˆ›å»ºå›¾ç‰‡æ˜¾ç¤ºç»„ä»¶

åˆ›å»ºæ–‡ä»¶ï¼šfrontend/src/components/ImageViewer.vue

Props æ¥å£ï¼š
{
  src: string,      // å›¾ç‰‡ URL
  loading: boolean, // æ˜¯å¦åŠ è½½ä¸­
  error: string,    // é”™è¯¯ä¿¡æ¯
}

éªŒæ”¶æ ‡å‡†ï¼š
- ä¼ å…¥æœ‰æ•ˆ src â†’ æ˜¾ç¤ºå›¾ç‰‡ï¼Œå±…ä¸­ï¼Œä¿æŒæ¯”ä¾‹
- loading=true â†’ æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- error æœ‰å€¼ â†’ æ˜¾ç¤ºé”™è¯¯æç¤º

ç¦æ­¢äº‹é¡¹ï¼š
- ä¸è¦å®ç°ç¼©æ”¾
- ä¸è¦å®ç°ç¿»é¡µé€»è¾‘
- ä¸è¦åˆ›å»ºå…¶ä»–æ–‡ä»¶
```

### 5.6 é˜¶æ®µ 5-8ï¼šå…·ä½“å®æ–½

#### æ­¥éª¤ A1ï¼šé¡¹ç›®åˆå§‹åŒ–

**åˆ›å»ºç›®å½•ç»“æ„**ï¼š

```bash
mkdir image-viewer
cd image-viewer
mkdir frontend backend
```

**åˆå§‹åŒ–å‰ç«¯**ï¼š

```bash
cd frontend
npm create vite@latest . -- --template vue
npm install
```

**åˆå§‹åŒ–åç«¯**ï¼š

```bash
cd ../backend
npm init -y
npm install express
```

**åˆ›å»ºåç«¯å…¥å£æ–‡ä»¶**ï¼š

```javascript
// backend/server.js
const express = require('express');
const app = express();
const PORT = 3001;

app.listen(PORT, () => {
  console.log(`Server running on ${PORT}`);
});
```

#### æ­¥éª¤ A2ï¼šåç«¯ CORS é…ç½®

```javascript
// backend/server.js
const express = require('express');
const cors = require('cors');

const app = express();
const PORT = 3001;

app.use(cors({
  origin: 'http://localhost:5173',
}));

app.use(express.json());

app.get('/api/ping', (req, res) => {
  res.json({ status: 'ok', timestamp: Date.now() });
});

app.listen(PORT, () => {
  console.log(`Server running on ${PORT}`);
});
```

#### æ­¥éª¤ A3ï¼šå‰åç«¯è”é€š

```vue
<!-- frontend/src/App.vue -->
<template>
  <div class="app">
    <h1>å›¾ç‰‡æµè§ˆå™¨</h1>
    <p>åç«¯çŠ¶æ€: {{ backendStatus }}</p>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';

const backendStatus = ref('æ£€æµ‹ä¸­...');

onMounted(async () => {
  try {
    const res = await fetch('http://localhost:3001/api/ping');
    const data = await res.json();
    backendStatus.value = data.status === 'ok' ? 'å·²è¿æ¥ âœ“' : 'å¼‚å¸¸';
  } catch (e) {
    backendStatus.value = 'è¿æ¥å¤±è´¥ âœ—';
  }
});
</script>
```

#### æ­¥éª¤ B1ï¼šæµ‹è¯•å›¾ç‰‡ API

```javascript
// backend/server.js - æ·»åŠ 

const path = require('path');
const fs = require('fs');

app.get('/api/image', (req, res) => {
  const imagePath = req.query.path;
  
  if (!imagePath) {
    return res.status(400).json({ error: 'ç¼ºå°‘ path å‚æ•°' });
  }
  
  const normalizedPath = path.normalize(imagePath);
  
  if (!fs.existsSync(normalizedPath)) {
    return res.status(404).json({ error: 'æ–‡ä»¶ä¸å­˜åœ¨' });
  }
  
  const ext = path.extname(normalizedPath).toLowerCase();
  const mimeTypes = {
    '.jpg': 'image/jpeg',
    '.jpeg': 'image/jpeg',
    '.png': 'image/png',
    '.gif': 'image/gif',
    '.webp': 'image/webp',
  };
  
  res.setHeader('Content-Type', mimeTypes[ext] || 'application/octet-stream');
  fs.createReadStream(normalizedPath).pipe(res);
});
```

#### æ­¥éª¤ B2ï¼šImageViewer ç»„ä»¶

```vue
<!-- frontend/src/components/ImageViewer.vue -->
<template>
  <div class="image-viewer">
    <div v-if="loading" class="loading">
      <span class="spinner"></span>
      <p>åŠ è½½ä¸­...</p>
    </div>
    
    <div v-else-if="error" class="error">
      <p>âš ï¸ {{ error }}</p>
    </div>
    
    <img
      v-else
      :src="src"
      @load="onLoad"
      @error="onError"
      class="image"
    />
  </div>
</template>

<script setup>
defineProps({
  src: { type: String, required: true },
  loading: { type: Boolean, default: false },
  error: { type: String, default: '' },
});

const emit = defineEmits(['load', 'error']);

function onLoad() {
  emit('load');
}

function onError() {
  emit('error', 'å›¾ç‰‡åŠ è½½å¤±è´¥');
}
</script>

<style scoped>
.image-viewer {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #1a1a1a;
}

.image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.loading, .error {
  color: #888;
  text-align: center;
}

.spinner {
  display: inline-block;
  width: 30px;
  height: 30px;
  border: 3px solid #333;
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
</style>
```

#### æ­¥éª¤ C1-C5ï¼šæ–‡ä»¶å¤¹æµè§ˆ

**åç«¯ API**ï¼š

```javascript
// backend/server.js - æ·»åŠ 

const SUPPORTED_FORMATS = ['.jpg', '.jpeg', '.png', '.gif', '.webp'];

function isImageFile(filename) {
  const ext = path.extname(filename).toLowerCase();
  return SUPPORTED_FORMATS.includes(ext);
}

app.post('/api/folder/list', (req, res) => {
  const { folderPath } = req.body;
  
  if (!folderPath) {
    return res.status(400).json({ error: 'ç¼ºå°‘ folderPath' });
  }
  
  const normalizedPath = path.normalize(folderPath);
  
  if (!fs.existsSync(normalizedPath)) {
    return res.status(404).json({ error: 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨' });
  }
  
  try {
    const entries = fs.readdirSync(normalizedPath, { withFileTypes: true });
    
    const items = entries
      .filter(entry => {
        if (entry.isDirectory()) return true;
        if (entry.isFile() && isImageFile(entry.name)) return true;
        if (entry.isFile() && entry.name.endsWith('.zip')) return true;
        return false;
      })
      .map(entry => ({
        name: entry.name,
        path: path.join(normalizedPath, entry.name),
        type: entry.isDirectory() ? 'folder' : 
              entry.name.endsWith('.zip') ? 'archive' : 'image',
      }))
      .sort((a, b) => {
        if (a.type === 'folder' && b.type !== 'folder') return -1;
        if (a.type !== 'folder' && b.type === 'folder') return 1;
        return a.name.localeCompare(b.name);
      });
    
    res.json({ path: normalizedPath, items });
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});
```

**å‰ç«¯æœåŠ¡å±‚**ï¼š

```javascript
// frontend/src/services/fileService.js
const API_BASE = 'http://localhost:3001/api';

export async function listFolder(folderPath) {
  const res = await fetch(`${API_BASE}/folder/list`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ folderPath }),
  });
  
  if (!res.ok) {
    const error = await res.json();
    throw new Error(error.error || 'è¯·æ±‚å¤±è´¥');
  }
  
  return res.json();
}

export function getImageUrl(imagePath) {
  return `${API_BASE}/image?path=${encodeURIComponent(imagePath)}`;
}
```

**FileList ç»„ä»¶**ï¼š

```vue
<!-- frontend/src/components/FileList.vue -->
<template>
  <div class="file-list">
    <div class="header">
      <span class="path">{{ currentPath || 'æœªé€‰æ‹©æ–‡ä»¶å¤¹' }}</span>
      <span class="count" v-if="items.length">{{ items.length }} é¡¹</span>
    </div>
    
    <div class="list">
      <div
        v-for="(item, index) in items"
        :key="item.path"
        :class="['item', { active: index === activeIndex }]"
        @click="$emit('select', item, index)"
      >
        <span class="icon">
          {{ item.type === 'folder' ? 'ğŸ“' : item.type === 'archive' ? 'ğŸ“¦' : 'ğŸ–¼ï¸' }}
        </span>
        <span class="name">{{ item.name }}</span>
      </div>
    </div>
  </div>
</template>

<script setup>
defineProps({
  items: { type: Array, default: () => [] },
  currentPath: { type: String, default: '' },
  activeIndex: { type: Number, default: -1 },
});

defineEmits(['select']);
</script>
```

#### æ­¥éª¤ D1-D4ï¼šæµè§ˆæ§åˆ¶

**Controls ç»„ä»¶**ï¼š

```vue
<!-- frontend/src/components/Controls.vue -->
<template>
  <div class="controls">
    <button @click="$emit('prev')" :disabled="!canPrev">â—€ ä¸Šä¸€å¼ </button>
    <span class="position">{{ current }} / {{ total }}</span>
    <button @click="$emit('next')" :disabled="!canNext">ä¸‹ä¸€å¼  â–¶</button>
  </div>
</template>

<script setup>
defineProps({
  current: { type: Number, default: 0 },
  total: { type: Number, default: 0 },
  canPrev: { type: Boolean, default: false },
  canNext: { type: Boolean, default: false },
});

defineEmits(['prev', 'next']);
</script>
```

**é”®ç›˜å¿«æ·é”®**ï¼š

```javascript
// App.vue ä¸­æ·»åŠ 
import { onMounted, onUnmounted } from 'vue';

function handleKeydown(e) {
  if (e.key === 'ArrowLeft') goPrev();
  else if (e.key === 'ArrowRight') goNext();
  else if (e.key === 'f' || e.key === 'F') toggleFullscreen();
}

onMounted(() => {
  window.addEventListener('keydown', handleKeydown);
});

onUnmounted(() => {
  window.removeEventListener('keydown', handleKeydown);
});
```

#### æ­¥éª¤ D3 é—®é¢˜æ¨¡æ‹Ÿï¼šç¼©æ”¾åŠŸèƒ½

**é—®é¢˜æè¿°**ï¼š

```
ç°è±¡ï¼šç¼©æ”¾ç¡®å®ç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯å›¾ç‰‡æ”¾å¤§åè¶…å‡ºå®¹å™¨ï¼Œæ— æ³•æ»šåŠ¨æŸ¥çœ‹
```

**å•é—®é¢˜æ¨¡å¼å›åº”**ï¼š

```
é—®é¢˜åŸå› ï¼š
transform: scale() åªæ˜¯è§†è§‰ç¼©æ”¾ï¼Œä¸æ”¹å˜å…ƒç´ å®é™…å°ºå¯¸ï¼Œæ‰€ä»¥å®¹å™¨ä¸ä¼šå‡ºç°æ»šåŠ¨æ¡ã€‚

ä¿®å¤æ–¹æ¡ˆï¼š
æ”¹ç”¨ width æ§åˆ¶ç¼©æ”¾ï¼Œå¹¶è®©å®¹å™¨æ”¯æŒæ»šåŠ¨ã€‚

å…·ä½“ä¿®æ”¹ï¼š
```

```vue
<template>
  <div class="image-scroll-container">
    <img
      :src="src"
      :class="{ 'fit-mode': zoom === 0 }"
      :style="zoom > 0 ? { width: zoom + '%' } : {}"
      class="image"
    />
  </div>
</template>

<style scoped>
.image-scroll-container {
  width: 100%;
  height: 100%;
  overflow: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.image.fit-mode {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}
</style>
```

> **è®°å½•åˆ°æ–‡æ¡£**ï¼šzoom=0 è¡¨ç¤ºé€‚åº”å®¹å™¨æ¨¡å¼

#### æ­¥éª¤ E1-E2ï¼šè‡ªåŠ¨æ’­æ”¾

```vue
<!-- Controls.vue æ‰©å±• -->
<template>
  <div class="controls">
    <button @click="$emit('prev')" :disabled="!canPrev">â—€</button>
    
    <button @click="$emit('toggle-play')">
      {{ isPlaying ? 'â¸' : 'â–¶' }}
    </button>
    
    <button @click="$emit('next')" :disabled="!canNext">â–¶</button>
    
    <span class="position">{{ current }} / {{ total }}</span>
    
    <div class="speed-control">
      <label>é€Ÿåº¦:</label>
      <input
        type="range"
        :value="playSpeed"
        @input="$emit('update:playSpeed', Number($event.target.value))"
        min="1"
        max="30"
      />
      <span>{{ playSpeed }}s</span>
    </div>
  </div>
</template>
```

#### æ­¥éª¤ F1-F3ï¼šå‹ç¼©åŒ…æ”¯æŒ

**åç«¯ API**ï¼š

```javascript
// backend/server.js
const AdmZip = require('adm-zip');

app.post('/api/archive/list', (req, res) => {
  const { archivePath } = req.body;
  
  try {
    const zip = new AdmZip(archivePath);
    const entries = zip.getEntries();
    
    const items = entries
      .filter(entry => !entry.isDirectory && isImageFile(entry.entryName))
      .map(entry => ({
        name: entry.entryName.split('/').pop(),
        path: entry.entryName,
        type: 'image',
      }))
      .sort((a, b) => a.name.localeCompare(b.name));
    
    res.json({ path: archivePath, items });
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

app.get('/api/archive/image', (req, res) => {
  const { archivePath, entryPath } = req.query;
  
  try {
    const zip = new AdmZip(archivePath);
    const entry = zip.getEntry(entryPath);
    
    if (!entry) {
      return res.status(404).json({ error: 'æ–‡ä»¶ä¸å­˜åœ¨' });
    }
    
    const buffer = entry.getData();
    const ext = path.extname(entryPath).toLowerCase();
    const mimeTypes = {
      '.jpg': 'image/jpeg',
      '.jpeg': 'image/jpeg',
      '.png': 'image/png',
      '.gif': 'image/gif',
      '.webp': 'image/webp',
    };
    
    res.setHeader('Content-Type', mimeTypes[ext] || 'application/octet-stream');
    res.send(buffer);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});
```

#### æ­¥éª¤ G1-G3ï¼šåŒé¢æ¿ï¼ˆæ¶æ„å˜æ›´ï¼‰

**panelStore å·¥å‚å‡½æ•°**ï¼š

```javascript
// frontend/src/stores/panelStore.js
import { reactive, computed, watch } from 'vue';
import { listFolder, listArchive, getImageUrl, getArchiveImageUrl } from '../services/fileService';

export function createPanelStore(panelId) {
  const state = reactive({
    panelId,
    currentPath: '',
    currentArchive: '',
    fileList: [],
    currentIndex: -1,
    loading: false,
    error: '',
    zoom: 0,
    isPlaying: false,
    playSpeed: 3,
  });
  
  let playTimer = null;
  
  const imageItems = computed(() => 
    state.fileList.filter(item => item.type === 'image')
  );
  
  const imageCount = computed(() => imageItems.value.length);
  
  const currentImageIndex = computed(() => {
    if (state.currentIndex < 0) return -1;
    const currentItem = state.fileList[state.currentIndex];
    return imageItems.value.findIndex(item => item.path === currentItem?.path);
  });
  
  const canGoPrev = computed(() => currentImageIndex.value > 0);
  const canGoNext = computed(() => 
    currentImageIndex.value >= 0 && currentImageIndex.value < imageCount.value - 1
  );
  
  const currentImageUrl = computed(() => {
    if (state.currentIndex < 0) return '';
    const item = state.fileList[state.currentIndex];
    if (item?.type !== 'image') return '';
    
    if (state.currentArchive) {
      return getArchiveImageUrl(state.currentArchive, item.path);
    }
    return getImageUrl(item.path);
  });
  
  async function loadFolder(folderPath) {
    try {
      state.loading = true;
      state.error = '';
      const result = await listFolder(folderPath);
      state.currentPath = result.path;
      state.currentArchive = '';
      state.fileList = result.items;
      
      const firstImageIndex = result.items.findIndex(item => item.type === 'image');
      state.currentIndex = firstImageIndex >= 0 ? firstImageIndex : -1;
    } catch (e) {
      state.error = e.message;
    } finally {
      state.loading = false;
    }
  }
  
  function goPrev() {
    if (!canGoPrev.value) return;
    const prevImage = imageItems.value[currentImageIndex.value - 1];
    const index = state.fileList.findIndex(item => item.path === prevImage.path);
    state.currentIndex = index;
  }
  
  function goNext() {
    if (!canGoNext.value) return;
    const nextImage = imageItems.value[currentImageIndex.value + 1];
    const index = state.fileList.findIndex(item => item.path === nextImage.path);
    state.currentIndex = index;
  }
  
  function togglePlay() {
    state.isPlaying = !state.isPlaying;
    if (state.isPlaying) {
      startAutoPlay();
    } else {
      stopAutoPlay();
    }
  }
  
  function startAutoPlay() {
    stopAutoPlay();
    playTimer = setInterval(() => {
      if (canGoNext.value) {
        goNext();
      } else {
        state.isPlaying = false;
        stopAutoPlay();
      }
    }, state.playSpeed * 1000);
  }
  
  function stopAutoPlay() {
    if (playTimer) {
      clearInterval(playTimer);
      playTimer = null;
    }
  }
  
  function dispose() {
    stopAutoPlay();
  }
  
  return {
    state,
    imageCount,
    currentImageIndex,
    canGoPrev,
    canGoNext,
    currentImageUrl,
    loadFolder,
    goPrev,
    goNext,
    togglePlay,
    dispose,
  };
}
```

**Panel ç»„ä»¶**ï¼š

```vue
<!-- frontend/src/components/Panel.vue -->
<template>
  <div class="panel">
    <FolderInput @open="store.loadFolder" />
    
    <div class="panel-main">
      <aside class="panel-sidebar">
        <FileList
          :items="store.state.fileList"
          :current-path="store.state.currentPath"
          :active-index="store.state.currentIndex"
          @select="store.selectItem"
        />
      </aside>
      
      <div class="panel-content">
        <div class="panel-viewer">
          <ImageViewer
            :src="store.currentImageUrl.value"
            :loading="store.state.loading"
            :error="store.state.error"
            :zoom="store.state.zoom"
          />
        </div>
        
        <Controls
          :current="store.currentImageIndex.value + 1"
          :total="store.imageCount.value"
          :can-prev="store.canGoPrev.value"
          :can-next="store.canGoNext.value"
          :is-playing="store.state.isPlaying"
          :play-speed="store.state.playSpeed"
          @prev="store.goPrev"
          @next="store.goNext"
          @toggle-play="store.togglePlay"
          @update:play-speed="v => store.state.playSpeed = v"
        />
      </div>
    </div>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted } from 'vue';
import ImageViewer from './ImageViewer.vue';
import FileList from './FileList.vue';
import FolderInput from './FolderInput.vue';
import Controls from './Controls.vue';
import { createPanelStore } from '../stores/panelStore';

const props = defineProps({
  panelId: { type: String, required: true },
});

const store = createPanelStore(props.panelId);

onUnmounted(() => {
  store.dispose();
});
</script>
```

**App åŒé¢æ¿å¸ƒå±€**ï¼š

```vue
<!-- frontend/src/App.vue -->
<template>
  <div class="app">
    <header class="toolbar">
      <h1>å›¾ç‰‡æµè§ˆå™¨</h1>
    </header>
    
    <div class="panels">
      <Panel panel-id="A" />
      <Panel panel-id="B" />
    </div>
  </div>
</template>

<script setup>
import Panel from './components/Panel.vue';
</script>

<style>
.panels {
  flex: 1;
  display: flex;
  overflow: hidden;
}

.panels > * {
  flex: 1;
}
</style>
```

#### æ­¥éª¤ H1-H2ï¼šæŒä¹…åŒ–

```javascript
// frontend/src/utils/storage.js
const STORAGE_KEY = 'image-viewer-state';

export function saveState(panelId, state) {
  const all = loadAllStates();
  all[panelId] = {
    currentPath: state.currentPath,
    currentArchive: state.currentArchive,
    currentIndex: state.currentIndex,
    playSpeed: state.playSpeed,
  };
  localStorage.setItem(STORAGE_KEY, JSON.stringify(all));
}

export function loadState(panelId) {
  const all = loadAllStates();
  return all[panelId] || null;
}

function loadAllStates() {
  try {
    return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
  } catch {
    return {};
  }
}
```

### 5.7 æœ€ç»ˆé¡¹ç›®è§„èŒƒæ–‡æ¡£

```markdown
# å›¾ç‰‡æµè§ˆå™¨é¡¹ç›® - å®ŒæˆçŠ¶æ€

> å®Œæˆæ—¥æœŸï¼šYYYY-MM-DD

## åŠŸèƒ½æ¸…å•

### å·²å®ç°
- [x] é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œæ˜¾ç¤ºå›¾ç‰‡åˆ—è¡¨
- [x] æµè§ˆå›¾ç‰‡ï¼šç¿»é¡µã€ç¼©æ”¾ã€å…¨å±
- [x] è‡ªåŠ¨æ’­æ”¾ï¼ˆ1-30ç§’å¯è°ƒï¼‰
- [x] æ”¯æŒ zip å‹ç¼©åŒ…
- [x] åŒé¢æ¿ç‹¬ç«‹æµè§ˆ
- [x] è®°ä½ä¸Šæ¬¡æµè§ˆä½ç½®
- [x] æ ¼å¼ï¼šjpg, png, gif, webp

### æ˜ç¡®ä¸åš
- âœ— å›¾ç‰‡ç¼–è¾‘
- âœ— æ”¶è—/æ ‡è®°
- âœ— å¤æ‚æ’åº
- âœ— åµŒå¥—å‹ç¼©åŒ…
- âœ— å…¶ä»–å‹ç¼©æ ¼å¼

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šVue 3 + Vite
- åç«¯ï¼šNode.js + Express
- å‹ç¼©åŒ…ï¼šadm-zip

## é¡¹ç›®ç»“æ„

```
image-viewer/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Panel.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageViewer.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ FileList.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Controls.vue
â”‚   â”‚   â”‚   â””â”€â”€ FolderInput.vue
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â””â”€â”€ panelStore.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ fileService.js
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â””â”€â”€ storage.js
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js
â”‚   â””â”€â”€ package.json
â””â”€â”€ LLM_CONTEXT.md
```

## API ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|-----|------|------|
| /api/ping | GET | æµ‹è¯•è¿æ¥ |
| /api/image | GET | è·å–å›¾ç‰‡ |
| /api/folder/list | POST | åˆ—å‡ºæ–‡ä»¶å¤¹ |
| /api/archive/list | POST | åˆ—å‡ºå‹ç¼©åŒ… |
| /api/archive/image | GET | è·å–å‹ç¼©åŒ…å›¾ç‰‡ |

## å¿«æ·é”®

| æŒ‰é”® | åŠŸèƒ½ |
|-----|------|
| â† | ä¸Šä¸€å¼  |
| â†’ | ä¸‹ä¸€å¼  |
| F | å…¨å±åˆ‡æ¢ |

## ç»„ä»¶æ¥å£

### ImageViewer
```
Props: { src, loading, error, zoom }
Events: load, error
æ³¨æ„: zoom=0 è¡¨ç¤ºé€‚åº”å®¹å™¨æ¨¡å¼
```

### FileList
```
Props: { items, currentPath, activeIndex }
Events: select(item, index)
```

### Controls
```
Props: { current, total, canPrev, canNext, isPlaying, playSpeed, isFullscreen }
Events: prev, next, toggle-play, update:playSpeed, fullscreen
```

## å·²çŸ¥é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### D3 ç¼©æ”¾é—®é¢˜
é—®é¢˜ï¼štransform: scale() ä¸ä¼šè§¦å‘æ»šåŠ¨
è§£å†³ï¼šä½¿ç”¨ width ç™¾åˆ†æ¯” + overflow: auto
æ³¨æ„ï¼šzoom=0 è¡¨ç¤ºé€‚åº”å®¹å™¨æ¨¡å¼
```

---

## 6. ä¼šè¯ç®¡ç†ç­–ç•¥

### 6.1 æ ¸å¿ƒåŸåˆ™

```
ä¸æ˜¯"æ¯æ­¥æ–°ä¼šè¯"ï¼Œä¹Ÿä¸æ˜¯"ä¸€ç›´ç”¨åˆ°å´©æºƒ"
è€Œæ˜¯"æŒ‰é˜¶æ®µåˆ’åˆ†ä¼šè¯ï¼ŒæŒ‰ä¿¡å·åˆ¤æ–­åˆ‡æ¢"
```

### 6.2 ä¸¤ç§ç­–ç•¥å¯¹æ¯”

| ç­–ç•¥ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|-----|------|------|
| **æ¯æ­¥æ–°ä¼šè¯** | ä¸Šä¸‹æ–‡å¹²å‡€ï¼Œæ— ç´¯ç§¯é”™è¯¯ | é¢‘ç¹é‡å»ºä¸Šä¸‹æ–‡ï¼Œæ•ˆç‡ä½ |
| **ä¸€ç›´ç»§ç»­** | è¿è´¯æ€§å¥½ï¼Œä¸ç”¨é‡å¤è§£é‡Š | è´¨é‡åŠ£åŒ–ï¼Œé”™è¯¯å»¶ç»­ |

**å®é™…ç­”æ¡ˆï¼šæ··åˆç­–ç•¥**

### 6.3 æŒ‰é˜¶æ®µç®¡ç†ä¼šè¯

```
ä¼šè¯ 1                    ä¼šè¯ 2                    ä¼šè¯ 3
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ A: åŸºç¡€éª¨æ¶ â”‚      â”‚ é˜¶æ®µ B-D:       â”‚      â”‚ é˜¶æ®µ G: åŒé¢æ¿   â”‚
â”‚ A1 â†’ A2 â†’ A3    â”‚      â”‚ æ ¸å¿ƒåŠŸèƒ½        â”‚      â”‚ æ¶æ„é‡æ„        â”‚
â”‚                 â”‚      â”‚ B1â†’B2â†’B3        â”‚      â”‚ G1 â†’ G2 â†’ G3    â”‚
â”‚ (3æ­¥ï¼Œç®€å•)     â”‚      â”‚ C1â†’C2â†’...       â”‚      â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ D1â†’D2â†’D3â†’D4     â”‚      â”‚ (æ¶æ„å˜æ›´ï¼Œ     â”‚
         â”‚               â”‚ E1â†’E2           â”‚      â”‚  éœ€è¦å¹²å‡€ä¸Šä¸‹æ–‡) â”‚
         â–¼               â”‚ F1â†’F2â†’F3        â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    å®Œæˆåæ–°å»ºä¼šè¯        â”‚                 â”‚
                         â”‚ (åŠŸèƒ½å¯†é›†ï¼Œ      â”‚
                         â”‚  ä¿æŒè¿è´¯æ€§)     â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                           è´¨é‡ä¸‹é™æ—¶æ–°å»ºä¼šè¯
```

### 6.4 ä½•æ—¶åº”è¯¥æ–°å»ºä¼šè¯

#### ä¿¡å· 1ï¼šé˜¶æ®µæ€§è¾¹ç•Œ

```
âœ“ å®Œæˆä¸€ä¸ªå®Œæ•´é˜¶æ®µï¼ˆå¦‚ Aé˜¶æ®µ â†’ Bé˜¶æ®µï¼‰
âœ“ å³å°†è¿›è¡Œæ¶æ„å˜æ›´ï¼ˆå¦‚ Gé˜¶æ®µçš„åŒé¢æ¿é‡æ„ï¼‰
âœ“ æŠ€æœ¯æ ˆåˆ‡æ¢ï¼ˆä»åç«¯è½¬åˆ°å‰ç«¯ï¼‰
```

#### ä¿¡å· 2ï¼šè´¨é‡åŠ£åŒ–è¿¹è±¡

```
âš ï¸ LLM å¼€å§‹é‡å¤ä¹‹å‰çš„é”™è¯¯
âš ï¸ LLM å¿˜è®°äº†ä¹‹å‰ç¡®å®šçš„çº¦å®šï¼ˆæ¯”å¦‚æ¥å£å®šä¹‰ï¼‰
âš ï¸ ä»£ç ä¸ä¹‹å‰çš„é£æ ¼ä¸ä¸€è‡´
âš ï¸ LLM å¼€å§‹"è‡ªç”±å‘æŒ¥"ï¼Œæ”¹åŠ¨æ²¡è¦æ±‚çš„åœ°æ–¹
âš ï¸ ä¿®å¤ä¸€ä¸ªé—®é¢˜ï¼Œåˆå¼•å…¥æ–°é—®é¢˜ï¼ˆå¾ªç¯ï¼‰
```

#### ä¿¡å· 3ï¼šå¯¹è¯é•¿åº¦

```
ç²—ç•¥å‚è€ƒï¼š
- 20è½®å¯¹è¯ä»¥å†…ï¼šé€šå¸¸å®‰å…¨
- 20-40è½®ï¼šå¼€å§‹å…³æ³¨è´¨é‡ä¿¡å·
- 40è½®ä»¥ä¸Šï¼šå»ºè®®æ–°å»ºä¼šè¯ï¼Œé™¤éè¿›å±•é¡ºåˆ©
```

#### ä¿¡å· 4ï¼šä¸»é¢˜æ¼‚ç§»

```
å¦‚æœå¯¹è¯ä»"å®ç°åŠŸèƒ½"å˜æˆï¼š
- é•¿æ—¶é—´ debug åŒä¸€ä¸ªé—®é¢˜
- åå¤è®¨è®ºæ¶æ„å†³ç­–
- å¤§é‡ä¿®ä¿®è¡¥è¡¥

â†’ åœä¸‹æ¥ï¼Œæ•´ç†æ–‡æ¡£ï¼Œæ–°å»ºä¼šè¯
```

### 6.5 æ–°å»ºä¼šè¯çš„æ“ä½œæµç¨‹

**æ­¥éª¤ 1ï¼šæ•´ç†å½“å‰çŠ¶æ€åˆ°æ–‡æ¡£**

```markdown
## å½“å‰çŠ¶æ€å¿«ç…§ï¼ˆYYYY-MM-DDï¼‰

### å·²å®Œæˆ
- A1-A3 åŸºç¡€éª¨æ¶ âœ“
- B1-B3 å•å›¾ç‰‡æ˜¾ç¤º âœ“
- C1-C5 æ–‡ä»¶å¤¹æµè§ˆ âœ“

### å½“å‰è¿›åº¦
D1 ç¿»é¡µåŠŸèƒ½ - è¿›è¡Œä¸­

### ä¸Šä¸ªä¼šè¯çš„å…³é”®å†³ç­–
- ImageViewer ä½¿ç”¨ zoom=0 è¡¨ç¤ºé€‚åº”æ¨¡å¼
- fileService.js å°è£…æ‰€æœ‰ API è°ƒç”¨

### å¾…è§£å†³é—®é¢˜
ï¼ˆå¦‚æœæœ‰æœªå®Œæˆçš„é—®é¢˜ï¼Œè®°å½•åœ¨è¿™é‡Œï¼‰
```

**æ­¥éª¤ 2ï¼šæ–°ä¼šè¯çš„å¼€åœºç™½**

```
æˆ‘æ­£åœ¨å¼€å‘å›¾ç‰‡æµè§ˆå™¨é¡¹ç›®ï¼Œç»§ç»­ä¹‹å‰çš„å·¥ä½œã€‚

[ç²˜è´´å®Œæ•´çš„ LLM_CONTEXT.md]

å½“å‰è¦æ‰§è¡Œï¼šæ­¥éª¤ D1 - ç¿»é¡µåŠŸèƒ½

ç›¸å…³ç°æœ‰ä»£ç ï¼š
[ç²˜è´´ ImageViewer.vue]
[ç²˜è´´ App.vue]
```

**æ­¥éª¤ 3ï¼šç¡®è®¤ä¸Šä¸‹æ–‡**

```
ğŸ‘¤: è¯·ç¡®è®¤ä½ ç†è§£äº†é¡¹ç›®å½“å‰çŠ¶æ€ï¼Œç„¶åæ‰§è¡Œ D1

ğŸ¤–: æˆ‘ç†è§£å½“å‰çŠ¶æ€ï¼š
    - å‰ç«¯ Vue3 + åç«¯ Express
    - ImageViewer ç»„ä»¶å·²å®Œæˆï¼Œæ¥å£ä¸º {src, loading, error, zoom}
    - ç°åœ¨éœ€è¦æ·»åŠ ç¿»é¡µåŠŸèƒ½...
    
    å¼€å§‹æ‰§è¡Œ D1...
```

### 6.6 æ–‡æ¡£çš„å…³é”®ä½œç”¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¼šè¯ A                                    â”‚
â”‚   éšæ€§çŸ¥è¯†ï¼ˆåœ¨å¯¹è¯ä¸­ç§¯ç´¯ï¼‰                                    â”‚
â”‚   - "æˆ‘ä»¬å†³å®šç”¨ zoom=0 è¡¨ç¤ºé€‚åº”æ¨¡å¼"                          â”‚
â”‚   - "é‡åˆ°è¿‡ CORS é—®é¢˜ï¼Œå·²è§£å†³"                                â”‚
â”‚   - "ImageViewer æ¥å£å·²é”å®šï¼Œä¸è¦æ”¹"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    LLM_CONTEXT.md      â”‚
              â”‚    (æ˜¾æ€§åŒ–çš„çŸ¥è¯†)       â”‚
              â”‚                        â”‚
              â”‚  æŠŠéšæ€§çŸ¥è¯†å†™è¿›æ–‡æ¡£     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¼šè¯ B                                    â”‚
â”‚   é€šè¿‡æ–‡æ¡£æ¢å¤ä¸Šä¸‹æ–‡                                          â”‚
â”‚   ç»§ç»­å¼€å‘ï¼Œä¸ä¸¢å¤±ä¹‹å‰çš„çº¦å®š                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–‡æ¡£åº”è¯¥æ•è·çš„å†…å®¹

| ç±»å‹ | ç¤ºä¾‹ | ä¸ºä»€ä¹ˆé‡è¦ |
|-----|------|-----------|
| **æ¥å£çº¦å®š** | `ImageViewer: {src, loading, error, zoom}` | é˜²æ­¢ LLM åœ¨æ–°ä¼šè¯ä¸­æ”¹å˜æ¥å£ |
| **è®¾è®¡å†³ç­–** | `zoom=0 è¡¨ç¤ºé€‚åº”æ¨¡å¼` | é¿å…é‡æ–°å‘æ˜è½®å­ |
| **è¸©è¿‡çš„å‘** | `transform:scale ä¸è§¦å‘æ»šåŠ¨` | é¿å…é‡å¤çŠ¯é”™ |
| **ç¦æ­¢äº‹é¡¹** | `ä¸è¦ä¿®æ”¹ ImageViewer æ¥å£` | æ˜ç¡®è¾¹ç•Œ |
| **å½“å‰çŠ¶æ€** | `D1 è¿›è¡Œä¸­ï¼ŒD2-D4 å¾…åš` | å¿«é€Ÿæ¢å¤è¿›åº¦ |

### 6.7 å›¾ç‰‡æµè§ˆå™¨é¡¹ç›®çš„å…·ä½“ä¼šè¯è§„åˆ’

```
ä¼šè¯ 1: éœ€æ±‚æ¾„æ¸… + æŠ€æœ¯é€‰å‹ + æ¶æ„è®¾è®¡
        äº§å‡ºï¼šå®Œæ•´çš„ LLM_CONTEXT.md åˆç‰ˆ
        
        â†“ æ–°å»ºä¼šè¯ï¼ˆè¿›å…¥å®æ–½é˜¶æ®µï¼‰
        
ä¼šè¯ 2: A1 â†’ A3ï¼ˆåŸºç¡€éª¨æ¶ï¼‰
        ç®€å•æ­¥éª¤ï¼Œä¸€ä¸ªä¼šè¯æå®š
        
        â†“ å¯ä»¥ç»§ç»­ï¼Œä¹Ÿå¯ä»¥æ–°å»º
        
ä¼šè¯ 3: B1 â†’ C5ï¼ˆæ ¸å¿ƒæ˜¾ç¤ºåŠŸèƒ½ï¼‰
        è¿™äº›æ­¥éª¤å…³è”ç´§å¯†ï¼Œä¿æŒè¿è´¯
        
        â†“ å®Œæˆåæ–°å»ºä¼šè¯
        
ä¼šè¯ 4: D1 â†’ E2ï¼ˆæµè§ˆæ§åˆ¶åŠŸèƒ½ï¼‰
        ç¿»é¡µã€ç¼©æ”¾ã€æ’­æ”¾ç­‰
        
        â†“ å®Œæˆåæ–°å»ºä¼šè¯
        
ä¼šè¯ 5: F1 â†’ F3ï¼ˆå‹ç¼©åŒ…æ”¯æŒï¼‰
        ç‹¬ç«‹åŠŸèƒ½æ¨¡å—
        
        â†“ å¿…é¡»æ–°å»ºä¼šè¯ï¼ˆæ¶æ„å˜æ›´ï¼‰
        
ä¼šè¯ 6: G1 â†’ G3ï¼ˆåŒé¢æ¿é‡æ„ï¼‰
        è¿™æ˜¯æ¶æ„å˜æ›´ï¼Œéœ€è¦å¹²å‡€ä¸Šä¸‹æ–‡
        
        â†“ å®Œæˆåæ–°å»º
        
ä¼šè¯ 7: H1 â†’ H2ï¼ˆæŒä¹…åŒ–ï¼‰
        æ”¶å°¾åŠŸèƒ½
```

### 6.8 å¸¸è§é—®é¢˜

**Q: æ–°ä¼šè¯æ—¶ï¼Œéœ€è¦æŠŠæ‰€æœ‰ä»£ç éƒ½å‘ä¸€éå—ï¼Ÿ**

ä¸éœ€è¦ã€‚åªå‘ï¼š
1. `LLM_CONTEXT.md`ï¼ˆå¿…é¡»ï¼‰
2. æœ¬æ¬¡ä»»åŠ¡ç›´æ¥ç›¸å…³çš„æ–‡ä»¶ï¼ˆ1-3ä¸ªï¼‰
3. ç›¸å…³çš„æ¥å£å®šä¹‰ï¼ˆå¯ä»¥æ˜¯æ‘˜è¦ï¼‰

**Q: æ–‡æ¡£æ›´æ–°å¤ªé¢‘ç¹ä¼šä¸ä¼šå¾ˆéº»çƒ¦ï¼Ÿ**

å»ºè®®çš„èŠ‚å¥ï¼š
- æ¯å®Œæˆä¸€ä¸ªæ­¥éª¤ï¼šæ›´æ–°è¿›åº¦å‹¾é€‰ `[x]`
- æ¯é‡åˆ°ä¸€ä¸ªå‘ï¼šæ·»åŠ åˆ°"å·²çŸ¥é—®é¢˜"
- æ¯ä¸ªä¼šè¯ç»“æŸå‰ï¼šæ•´ç†å…³é”®å†³ç­–

æ¯æ¬¡æ›´æ–° 1-2 åˆ†é’Ÿï¼Œæ¢æ¥çš„æ˜¯ä¸‹æ¬¡ä¼šè¯çš„é«˜æ•ˆå¯åŠ¨ã€‚

**Q: å¦‚æœä¸­é€”é‡åˆ°é—®é¢˜ï¼Œåœ¨å•é—®é¢˜æ¨¡å¼ä¸‹è§£å†³ï¼Œç®—ä¸ç®—è¦æ¢ä¼šè¯ï¼Ÿ**

å•é—®é¢˜æ¨¡å¼ä¸éœ€è¦æ¢ä¼šè¯ã€‚å®ƒåªæ˜¯ä¸´æ—¶åˆ‡æ¢äº¤äº’æ–¹å¼ï¼š

```
æ­£å¸¸æ¨¡å¼ â†’ é‡åˆ°é—®é¢˜ â†’ å•é—®é¢˜æ¨¡å¼ â†’ è§£å†³ â†’ å›åˆ°æ­£å¸¸æ¨¡å¼
         ï¼ˆåŒä¸€ä¸ªä¼šè¯å†…ï¼‰
```

åªæœ‰å½“å•é—®é¢˜æ¨¡å¼ä¹Ÿåå¤å¤±è´¥ï¼ˆ3æ¬¡ä»¥ä¸Šï¼‰ï¼Œæ‰è€ƒè™‘ï¼š
1. åœä¸‹æ¥
2. æŠŠé—®é¢˜è¯¦ç»†è®°å½•åˆ°æ–‡æ¡£
3. æ–°ä¼šè¯ï¼Œä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜

### 6.9 å®ç”¨å£è¯€

```
é¡ºåˆ©æ—¶ç»§ç»­ï¼Œå¡ä½æ—¶æ¢æ–°
é˜¶æ®µå®Œæˆæ¢ï¼Œæ¶æ„å˜æ›´æ¢
ä¿¡å·å‡ºç°æ¢ï¼Œæ–‡æ¡£è¦è·Ÿä¸Š
```

---

## 7. æ€»ç»“ä¸é€ŸæŸ¥

### 7.1 äººç±»çš„æ ¸å¿ƒèŒè´£

```
1. éœ€æ±‚è¾¹ç•Œå®ˆæŠ¤ â”€â”€â”€ æ˜ç¡®"åšä»€ä¹ˆ"å’Œ"ä¸åšä»€ä¹ˆ"
2. æ¶æ„å†³ç­–     â”€â”€â”€ é¢„å…ˆè®¾è®¡æ¨¡å—å’Œæ¥å£
3. ä»»åŠ¡æ‹†åˆ†     â”€â”€â”€ ç¡®ä¿æ¯æ­¥å¯ç‹¬ç«‹éªŒè¯
4. å³æ—¶éªŒè¯     â”€â”€â”€ æ¯æ­¥å®Œæˆåæµ‹è¯•
5. æ–‡æ¡£ç»´æŠ¤     â”€â”€â”€ ä¿æŒ LLM ä¸Šä¸‹æ–‡ä¸€è‡´æ€§
6. é—®é¢˜è¯Šæ–­     â”€â”€â”€ å‡ºé—®é¢˜æ—¶ç²¾ç¡®å®šä½ï¼Œç”¨å•é—®é¢˜æ¨¡å¼
```

### 7.2 æ­£ç¡®çš„å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ä¸€æ¬¡å¼€å‘è¿­ä»£                          â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ å‡†å¤‡é˜¶æ®µ  â”‚                                              â”‚
â”‚  â”‚ (äººç±»)   â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â”‚ 1. æ›´æ–° LLM_CONTEXT.md                              â”‚
â”‚       â”‚ 2. ç¡®å®šæœ¬æ¬¡è¦å®Œæˆçš„æ­¥éª¤                              â”‚
â”‚       â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ å‘èµ·è¯·æ±‚  â”‚ "è¯·æ‰§è¡Œæ­¥éª¤ Xï¼Œé™„ä¸Šè§„èŒƒæ–‡æ¡£"                   â”‚
â”‚  â”‚ (äººç±»)   â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ LLM äº§å‡º  â”‚ ä»£ç  + éªŒæ”¶æ­¥éª¤                              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¤±è´¥     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ éªŒè¯     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ å•é—®é¢˜æ¨¡å¼ â”‚â—„â”€â”                  â”‚
â”‚  â”‚ (äººç±»)   â”‚            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â”‚        â”‚                  â”‚
â”‚       â”‚ æˆåŠŸ                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚       â–¼                         ä¿®å¤åå†éªŒè¯                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ æäº¤     â”‚ git commit                                   â”‚
â”‚  â”‚ (äººç±»)   â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â”‚                                                    â”‚
â”‚       â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ æ›´æ–°æ–‡æ¡£  â”‚ æ ‡è®°å®Œæˆï¼Œè®°å½•é—®é¢˜                            â”‚
â”‚  â”‚ (äººç±»)   â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 å…³é”®å¯¹æ¯”

| æ–¹é¢ | é”™è¯¯çš„æ–¹å¼ | æ­£ç¡®çš„æ–¹å¼ |
|-----|-----------|-----------|
| éœ€æ±‚é˜¶æ®µ | ç›´æ¥è¦æ±‚è®¡åˆ’ | å…ˆæ¾„æ¸…ï¼Œç¡®å®šè¾¹ç•Œ |
| æ­¥éª¤ç²’åº¦ | å¤šä¸ªåŠŸèƒ½ä¸€èµ·åš | æ‹†æˆç‹¬ç«‹å¯éªŒè¯çš„å°æ­¥éª¤ |
| æ¶æ„è®¾è®¡ | è¾¹åšè¾¹æƒ³ | é¢„å…ˆè®¾è®¡ï¼Œé”å®šæ¥å£ |
| çŠ¶æ€ç®¡ç† | åˆ†æ•£åœ¨ç»„ä»¶ä¸­ | é›†ä¸­åœ¨ Storeï¼Œç»„ä»¶æ— çŠ¶æ€ |
| é‡å¤§å˜æ›´ | ç›´æ¥æ”¹é€  | å…ˆé‡æ„å†æ‰©å±• |
| é—®é¢˜å¤„ç† | ä¸¢æ•´ä¸ªé¡¹ç›®è®© LLM ä¿® | å•é—®é¢˜æ¨¡å¼ï¼Œç²¾ç¡®å®šä½ |
| æ–‡æ¡£ | æ—  | æŒç»­æ›´æ–°ï¼Œæ¯æ¬¡å¯¹è¯æºå¸¦ |

### 7.4 å•é—®é¢˜æ¨¡å¼æ¨¡æ¿

```markdown
## é—®é¢˜æŠ¥å‘Š

### å½“å‰æ­¥éª¤
D3 - ç¼©æ”¾åŠŸèƒ½

### ç°è±¡
ç‚¹å‡»æ”¾å¤§æŒ‰é’®ï¼Œå›¾ç‰‡ä¸å˜åŒ–

### ç›¸å…³ä»£ç 
[åªç²˜è´´ç›¸å…³çš„é‚£å‡ è¡Œæˆ–é‚£ä¸ªå‡½æ•°]

### å·²å°è¯•
- æ£€æŸ¥äº†æŒ‰é’®ç»‘å®šï¼Œclick äº‹ä»¶è§¦å‘äº†
- console.log æ˜¾ç¤º zoom å€¼ç¡®å®å˜äº†

### é—®é¢˜
ä¸ºä»€ä¹ˆå›¾ç‰‡ä¸å˜åŒ–ï¼Ÿ

### è¦æ±‚
- åªå‘Šè¯‰æˆ‘é—®é¢˜åŸå› å’Œä¿®å¤æ–¹æ¡ˆ
- ä¸è¦é‡å†™æ•´ä¸ªç»„ä»¶
- æŒ‡å‡ºå…·ä½“ä¿®æ”¹å“ªå‡ è¡Œ
```

### 7.5 LLM_CONTEXT.md æ¨¡æ¿

```markdown
# é¡¹ç›®åç§° - LLM åä½œä¸Šä¸‹æ–‡

> æœ€åæ›´æ–°ï¼šYYYY-MM-DD
> å½“å‰æ­¥éª¤ï¼šXX

## é¡¹ç›®æ¦‚è¿°
ç®€è¦æè¿°é¡¹ç›®ç›®æ ‡

## éœ€æ±‚è¾¹ç•Œ

### å¿…é¡»å®ç°
- [ ] åŠŸèƒ½1
- [ ] åŠŸèƒ½2

### æ˜ç¡®ä¸åš
- âœ— ä¸éœ€è¦çš„åŠŸèƒ½1
- âœ— ä¸éœ€è¦çš„åŠŸèƒ½2

## æŠ€æœ¯é€‰å‹
- å‰ç«¯ï¼šxxx
- åç«¯ï¼šxxx

## æ¶æ„è®¾è®¡
[æ¶æ„å›¾å’Œæ¨¡å—è¯´æ˜]

## ä»£ç è§„èŒƒ
- è§„èŒƒ1
- è§„èŒƒ2

## ç»„ä»¶æ¥å£
[å·²é”å®šçš„æ¥å£å®šä¹‰]

## å®æ–½æ­¥éª¤

### å½“å‰è¿›åº¦
- [x] å·²å®Œæˆæ­¥éª¤
- [ ] å½“å‰æ­¥éª¤ â† å½“å‰
- [ ] å¾…åšæ­¥éª¤

## å·²çŸ¥é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ
[è¸©è¿‡çš„å‘å’Œè§£å†³æ–¹æ³•]

## å¼€å‘æ—¥å¿—
- YYYY-MM-DD: è®°å½•
```

---

## ç»“è¯­

äººç±»ä¸ LLM çš„åä½œå¼€å‘ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª**åˆ†å·¥ä¸æ§åˆ¶**çš„é—®é¢˜ï¼š

- **LLM æ“…é•¿**ï¼šåœ¨æ˜ç¡®çº¦æŸä¸‹ç”Ÿæˆä»£ç ã€è§£å†³å±€éƒ¨é—®é¢˜
- **äººç±»æ“…é•¿**ï¼šå…¨å±€æŠŠæ§ã€æ¶æ„å†³ç­–ã€è´¨é‡éªŒè¯ã€è¾¹ç•Œå®ˆæŠ¤

å…³é”®ä¸åœ¨äºè®© LLM åšå¾—æ›´å¤šï¼Œè€Œåœ¨äº**è®© LLM åœ¨æ­£ç¡®çš„èŒƒå›´å†…åšæ­£ç¡®çš„äº‹**ã€‚

é€šè¿‡ï¼š
1. é¢„å…ˆçš„æ¶æ„è®¾è®¡
2. æ¸…æ™°çš„ä»»åŠ¡æ‹†åˆ†
3. æŒç»­çš„æ–‡æ¡£ç»´æŠ¤
4. å³æ—¶çš„éªŒè¯åé¦ˆ

å¯ä»¥è®©é¡¹ç›®åœ¨æŒç»­å¢é•¿çš„åŒæ—¶ï¼Œä¿æŒ LLM è¾“å‡ºçš„è´¨é‡ç¨³å®šã€‚
```
